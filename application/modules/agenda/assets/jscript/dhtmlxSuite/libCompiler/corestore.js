window.dhtmlx||(dhtmlx={});dhtmlx.version="3.0";dhtmlx.codebase="./";dhtmlx.extend=function(a,b){for(var c in b)a[c]=b[c];b.h&&a.h();return a};
dhtmlx.proto_extend=function(){for(var a=arguments,b=a[0],c=[],d=a.length-1;d>0;d--){if(typeof a[d]=="function")a[d]=a[d].prototype;for(var e in a[d])if(e=="_init")c.push(a[d][e]);else b[e]||(b[e]=a[d][e])}a[0].h&&c.push(a[0].h);b.h=function(){for(var g=0;g<c.length;g++)c[g].apply(this,arguments)};b.base=a[1];var f=function(g){this.h(g);this.I&&this.I(g,this.defaults)};f.prototype=b;b=a=null;return f};dhtmlx.bind=function(a,b){return function(){return a.apply(b,arguments)}};
dhtmlx.require=function(a){if(!dhtmlx.R[a]){dhtmlx.exec(dhtmlx.ajax().sync().get(dhtmlx.codebase+a).responseText);dhtmlx.R[a]=true}};dhtmlx.R={};dhtmlx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};dhtmlx.methodPush=function(a,b){return function(){var c=false;return c=a[b].apply(a,arguments)}};dhtmlx.isNotDefined=function(a){return typeof a=="undefined"};dhtmlx.delay=function(a,b,c,d){setTimeout(function(){var e=a.apply(b,c);a=b=c=null;return e},d||1)};
dhtmlx.uid=function(){if(!this.U)this.U=(new Date).valueOf();this.U++;return this.U};dhtmlx.toNode=function(a){if(typeof a=="string")return document.getElementById(a);return a};dhtmlx.toArray=function(a){return dhtmlx.extend(a||[],dhtmlx.PowerArray)};dhtmlx.toFunctor=function(a){return typeof a=="string"?eval(a):a};dhtmlx.l={};
dhtmlx.event=function(a,b,c,d){a=dhtmlx.toNode(a);var e=dhtmlx.uid();dhtmlx.l[e]=[a,b,c];if(d)c=dhtmlx.bind(c,d);if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent&&a.attachEvent("on"+b,c);return e};dhtmlx.eventRemove=function(a){if(a){var b=dhtmlx.l[a];if(b[0].removeEventListener)b[0].removeEventListener(b[1],b[2],false);else b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]);delete this.l[a]}};
dhtmlx.EventSystem={h:function(){this.l={};this.w={};this.C={}},block:function(){this.l.$=true},unblock:function(){this.l.$=false},mapEvent:function(a){dhtmlx.extend(this.C,a)},callEvent:function(a,b){if(this.l.$)return true;a=a.toLowerCase();var c=this.l[a.toLowerCase()],d=true;if(c)for(var e=0;e<c.length;e++)if(c[e].apply(this,b||[])===false)d=false;if(this.C[a]&&!this.C[a].callEvent(a,b))d=false;return d},attachEvent:function(a,b,c){a=a.toLowerCase();c=c||dhtmlx.uid();b=dhtmlx.toFunctor(b);var d=
this.l[a]||dhtmlx.toArray();d.push(b);this.l[a]=d;this.w[c]={f:b,t:a};return c},detachEvent:function(a){var b=this.w[a].t,c=this.w[a].f;b=this.l[b];b.remove(c);delete this.w[a]}};
dhtmlx.PowerArray={removeAt:function(a,b){if(a>=0)this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(!b&&b!==0)this.push(a);else{var c=this.splice(b,this.length-b);this[b]=a;this.push.apply(this,c)}},find:function(a){for(i=0;i<this.length;i++)if(a==this[i])return i;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this}};dhtmlx.env={};
if(navigator.userAgent.indexOf("Opera")!=-1)dhtmlx.nc=true;else{dhtmlx.P=!!document.all;dhtmlx.ub=!document.all;dhtmlx.oc=navigator.userAgent.indexOf("KHTML")!=-1;if(navigator.appVersion.indexOf("MSIE 8.0")!=-1&&document.compatMode!="BackCompat")dhtmlx.P=8;if(navigator.appVersion.indexOf("MSIE 9.0")!=-1&&document.compatMode!="BackCompat")dhtmlx.P=8}dhtmlx.env={};
(function(){dhtmlx.env.transform=false;dhtmlx.env.transition=false;var a={};a.names=["transform","transition"];a.transform=["transform","WebkitTransform","MozTransform","oTransform"];a.transition=["transition","WebkitTransition","MozTransition","oTransition"];for(var b=document.createElement("DIV"),c=0;c<a.names.length;c++)for(;p=a[a.names[c]].pop();)if(typeof b.style[p]!="undefined")dhtmlx.env[a.names[c]]=true})();
dhtmlx.env.transform_prefix=function(){var a;if(dhtmlx.nc)a="-o-";else{a="";if(dhtmlx.ub)a="-moz-";if(dhtmlx.oc)a="-webkit-"}return a}();dhtmlx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();dhtmlx.zIndex={drag:1E4};
dhtmlx.html={create:function(a,b,c){b=b||{};var d=document.createElement(a);for(var e in b)d.setAttribute(e,b[e]);if(b.style)d.style.cssText=b.style;if(b["class"])d.className=b["class"];if(c)d.innerHTML=c;return d},getValue:function(a){a=dhtmlx.toNode(a);if(!a)return"";return dhtmlx.isNotDefined(a.value)?a.innerHTML:a.value},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){if(a)b?b.parentNode.insertBefore(a,
b):c.appendChild(a)},locate:function(a,b){a=a||event;for(var c=a.target||a.srcElement;c;){if(c.getAttribute){var d=c.getAttribute(b);if(d)return d}c=c.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,j=b.top+e-g,k=b.left+f-h;return{y:Math.round(j),
x:Math.round(k)}}else{for(k=j=0;a;){j+=parseInt(a.offsetTop,10);k+=parseInt(a.offsetLeft,10);a=a.offsetParent}return{y:j,x:k}}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};var b=dhtmlx.P&&document.compatMode!="BackCompat"?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();dhtmlx.html.stopEvent(a)},stopEvent:function(a){(a||event).cancelBubble=
true;return false},addCss:function(a,b){a.className+=" "+b},removeCss:function(a,b){a.className=a.className.replace(RegExp(b,"g"),"")}};(function(){var a=document.getElementsByTagName("SCRIPT");if(a.length){a=(a[a.length-1].getAttribute("src")||"").split("/");a.splice(a.length-1,1);dhtmlx.codebase=a.slice(0,a.length).join("/")+"/"}})();dhtmlx.ui={};
dhtmlx.Template={Da:{},empty:function(){return""},setter:function(a){return dhtmlx.Template.fromHTML(a)},obj_setter:function(a){var b=dhtmlx.Template.setter(a),c=this;return function(){return b.apply(c,arguments)}},fromHTML:function(a){if(typeof a=="function")return a;if(this.Da[a])return this.Da[a];a=(a||"").toString();a=a.replace(/[\r\n]+/g,"\\n");a=a.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');a=a.replace(/\{common\.([^}\(]*)\}/g,'"+common.$1+"');a=a.replace(/\{common\.([^\}\(]*)\(\)\}/g,
'"+(common.$1?common.$1(obj):"")+"');a=a.replace(/\{obj\.([^}]*)\}/g,'"+obj.$1+"');a=a.replace(/#([a-z0-9_]+)#/gi,'"+obj.$1+"');a=a.replace(/\{obj\}/g,'"+obj+"');a=a.replace(/\{-obj/g,"{obj");a=a.replace(/\{-common/g,"{common");a='return "'+a+'";';return this.Da[a]=Function("obj","common",a)}};
dhtmlx.Type={add:function(a,b){if(!a.types&&a.prototype.types)a=a.prototype;var c=b.name||"default";this.ab(b);this.ab(b,"edit");this.ab(b,"loading");a.types[c]=dhtmlx.extend(dhtmlx.extend({},a.types[c]||this.Qb),b);return c},Qb:{css:"default",template:function(){return""},template_edit:function(){return""},template_loading:function(){return"..."},width:150,height:80,margin:5,padding:0},ab:function(a,b){b="template"+(b?"_"+b:"");var c=a[b];if(c&&typeof c=="string"){if(c.indexOf("->")!=-1){c=c.split("->");
switch(c[0]){case "html":c=dhtmlx.html.getValue(c[1]).replace(/\"/g,'\\"');break;case "http":c=(new dhtmlx.ajax).sync().get(c[1],{uid:(new Date).valueOf()}).responseText;break;default:break}}a[b]=dhtmlx.Template.fromHTML(c)}}};
dhtmlx.Settings={h:function(){this.e=this.config={}},define:function(a,b){if(typeof a=="object")return this.ga(a);return this.ba(a,b)},ba:function(a,b){var c=this[a+"_setter"];return this.e[a]=c?c.call(this,b):b},ga:function(a){if(a)for(var b in a)this.ba(b,a[b])},I:function(a,b){var c=dhtmlx.extend({},b);typeof a=="object"&&!a.tagName&&dhtmlx.extend(c,a);this.ga(c)},H:function(a,b){for(var c in b)switch(typeof a[c]){case "object":a[c]=this.H(a[c]||{},b[c]);break;case "undefined":a[c]=b[c];break;
default:break}return a},Va:function(a,b,c){if(typeof a=="object"&&!a.tagName)a=a.container;this.g=dhtmlx.toNode(a);if(!this.g&&c)this.g=c(a);this.g.className+=" "+b;this.g.onselectstart=function(){return false};this.k=this.g},Hc:function(a){if(typeof a=="object")return this.type_setter(a);this.type=dhtmlx.extend({},this.types[a]);this.customize()},customize:function(a){a&&dhtmlx.extend(this.type,a);this.type.wb=dhtmlx.Template.fromHTML(this.template_item_start(this.type));this.type.vb=this.template_item_end(this.type);
this.render()},type_setter:function(a){this.Hc(typeof a=="object"?dhtmlx.Type.add(this,a):a);return a},template_setter:function(a){return this.type_setter({template:a})},css_setter:function(a){this.g.className+=" "+a;return a}};
dhtmlx.Destruction={h:function(){dhtmlx.destructors.push(this)},destructor:function(){this.destructor=function(){};this.L=this.p=null;this.z&&document.body.appendChild(this.z);this.z=null;if(this.g){this.g.innerHTML="";this.g.p=null}this.data=this.g=this.k=null;this.l=this.w={}}};dhtmlx.destructors=[];
dhtmlx.event(window,"unload",function(){for(var a=0;a<dhtmlx.destructors.length;a++)dhtmlx.destructors[a].destructor();dhtmlx.destructors=[];for(var b in dhtmlx.l){a=dhtmlx.l[b];if(a[0].removeEventListener)a[0].removeEventListener(a[1],a[2],false);else a[0].detachEvent&&a[0].detachEvent("on"+a[1],a[2]);delete dhtmlx.l[b]}});
dhtmlx.ui.pager=function(a){this.name="Pager";dhtmlx.extend(this,dhtmlx.Settings);this.Va(a,"dhx_pager");dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.SingleRender);dhtmlx.extend(this,dhtmlx.MouseEvents);this.I(a,{size:10,page:-1,group:5,count:0,type:"default"});this.data=this.e;this.refresh()};
dhtmlx.ui.pager.prototype={A:"dhx_p_id",on_click:{dhx_pager_item:function(a,b){this.select(b)}},select:function(a){switch(a){case "next":a=this.e.page+1;break;case "prev":a=this.e.page-1;break;case "first":a=0;break;case "last":a=this.e.limit-1;break;default:break}if(a<0)a=0;if(a>=this.data.limit)a=this.data.limit-1;if(this.callEvent("onBeforePageChange",[this.e.page,a])){this.data.page=a*1;this.refresh();this.callEvent("onAfterPageChange",[a])}},types:{"default":{template:dhtmlx.Template.fromHTML("{common.pages()}"),
pages:function(a){var b="";if(a.page==-1)return"";a.min=a.page-Math.round((a.group-1)/2);a.max=a.min+a.group-1;if(a.min<0){a.max+=a.min*-1;a.min=0}if(a.max>=a.limit){a.min-=Math.min(a.min,a.max-a.limit+1);a.max=a.limit-1}for(var c=a.min||0;c<=a.max;c++)b+=this.button({id:c,index:c+1,selected:c==a.page?"_selected":""});return b},page:function(a){return a.page+1},first:function(){return this.button({id:"first",index:" &lt;&lt; ",selected:""})},last:function(){return this.button({id:"last",index:" &gt;&gt; ",
selected:""})},prev:function(){return this.button({id:"prev",index:"&lt;",selected:""})},next:function(){return this.button({id:"next",index:"&gt;",selected:""})},button:dhtmlx.Template.fromHTML("<div dhx_p_id='{obj.id}' class='dhx_pager_item{obj.selected}'>{obj.index}</div>")}},refresh:function(){var a=this.e;a.limit=Math.ceil(a.count/a.size);if(a.limit&&a.limit!=a.old_limit)a.page=Math.min(a.limit-1,a.page);var b=a.page;if(b!=-1&&b!=a.old_page||a.limit!=a.old_limit){this.render();this.callEvent("onRefresh",
[]);a.old_limit=a.limit;a.old_page=a.page}},template_item_start:dhtmlx.Template.fromHTML("<div>"),template_item_end:dhtmlx.Template.fromHTML("</div>")};dhtmlx.SingleRender={h:function(){},X:function(a){return this.type.wb(a,this.type)+this.type.template(a,this.type)+this.type.vb},render:function(){if(!this.callEvent||this.callEvent("onBeforeRender",[this.data])){if(this.data)this.k.innerHTML=this.X(this.data);this.callEvent&&this.callEvent("onAfterRender",[])}}};
dhtmlx.ui.Tooltip=function(a){this.name="Tooltip";this.version="3.0";if(typeof a=="string")a={template:a};dhtmlx.extend(this,dhtmlx.Settings);dhtmlx.extend(this,dhtmlx.SingleRender);this.I(a,{type:"default",dy:0,dx:20});this.k=this.g=document.createElement("DIV");this.g.className="dhx_tooltip";dhtmlx.html.insertBefore(this.g,document.body.firstChild)};
dhtmlx.ui.Tooltip.prototype={show:function(a,b){if(!this.ib){if(this.data!=a){this.data=a;this.render(a)}this.g.style.top=b.y+this.e.dy+"px";this.g.style.left=b.x+this.e.dx+"px";this.g.style.display="block"}},hide:function(){this.data=null;this.g.style.display="none"},disable:function(){this.ib=true},enable:function(){this.ib=false},types:{"default":dhtmlx.Template.fromHTML("{obj.id}")},template_item_start:dhtmlx.Template.empty,template_item_end:dhtmlx.Template.empty};
dhtmlx.AutoTooltip={tooltip_setter:function(a){var b=new dhtmlx.ui.Tooltip(a);this.attachEvent("onMouseMove",function(c,d){b.show(this.get(c),dhtmlx.html.pos(d))});this.attachEvent("onMouseOut",function(){b.hide()});this.attachEvent("onMouseMoving",function(){b.hide()});return b}};dhtmlx.compat=function(a,b){dhtmlx.compat[a]&&dhtmlx.compat[a](b)};
(function(){if(!window.dhtmlxError){var a=function(){};window.dhtmlxError={catchError:a,throwError:a};window.convertStringToBoolean=function(c){return!!c};window.dhtmlxEventable=function(c){dhtmlx.extend(c,dhtmlx.EventSystem)};var b={getXMLTopNode:function(){},doXPath:function(c){return dhtmlx.DataDriver.xml.xpath(this.xml,c)},xmlDoc:{responseXML:true}};dhtmlx.compat.dataProcessor=function(c){var d="_sendData",e="_in_progress",f="_tMode",g="_waitMode";c[d]=function(h,j){if(h){if(j)this[e][j]=(new Date).valueOf();
if(!this.callEvent("onBeforeDataSending",j?[j,this.getState(j)]:[]))return false;var k=this,i=this.serverProcessor;this[f]!="POST"?dhtmlx.ajax().get(i+(i.indexOf("?")!=-1?"&":"?")+this.serialize(h,j),"",function(n,o){b.xml=dhtmlx.DataDriver.xml.checkResponse(n,o);k.afterUpdate(k,null,null,null,b)}):dhtmlx.ajax().post(i,this.serialize(h,j),function(n,o){b.xml=dhtmlx.DataDriver.xml.checkResponse(n,o);k.afterUpdate(k,null,null,null,b)});this[g]++}}}}})();
dhtmlx.DataProcessor={Rb:function(a){var b="_methods";a[b]=["setItemStyle","","changeId","remove"];this.attachEvent("onAfterAdd",function(c){a.setUpdated(c,true,"inserted")});this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(c,d){c.getUserData&&c.getUserData(d,this.Z)},this));this.attachEvent("onBeforeDelete",function(c){var d=a.getState(c);if(d=="inserted"){a.setUpdated(c,false);return true}if(d=="deleted")return false;if(d=="true_deleted")return true;a.setUpdated(c,true,"deleted");return false});
this.attachEvent("onAfterEditStop",function(c){a.setUpdated(c,true,"updated")});this.attachEvent("onBindUpdate",function(c){window.setTimeout(function(){a.setUpdated(c.id,true,"updated")},1)});b="_getRowData";a[b]=function(c){c=this.obj.data.get(c);var d={};for(var e in c)if(e.indexOf("_")!==0)d[e]=c[e];return d};b="_clearUpdateFlag";a[b]=function(){};this.Z={};a.attachEvent("insertCallback",this.jb);a.attachEvent("updateCallback",this.jb);a.attachEvent("deleteCallback",function(c,d){this.obj.setUserData(d,
this.action_param,"true_deleted");this.obj.remove(d)});dhtmlx.compat("dataProcessor",a)},jb:function(a,b){this.obj.data.set(b,dhtmlx.DataDriver.xml.getDetails(a.firstChild));this.obj.data.refresh(b)},setItemStyle:function(a,b){if(a=this.B(a))a.style.cssText+=";"+b},changeId:function(a,b){this.data.changeId(a,b);this.refresh()},setUserData:function(a,b,c){if(a)this.data.get(a)[b]=c;else this.Z[b]=c},getUserData:function(a,b){return a?this.data.get(a)[b]:this.Z[b]}};
(function(){var a="_dp_init";dhtmlx.DataProcessor[a]=dhtmlx.DataProcessor.Rb})();
dhtmlx.compat.dnd=function(){if(window.dhtmlDragAndDropObject){var a="_dragged",b=dhtmlDragAndDropObject.prototype.checkLanding;dhtmlDragAndDropObject.prototype.checkLanding=function(j,k,i){b.apply(this,arguments);if(!i){var n=dhtmlx.DragControl.F=dhtmlx.DragControl.F||{};n.from=this.dragStartObject;dhtmlx.DragControl.pa(j,k,true)}};var c=dhtmlDragAndDropObject.prototype.stopDrag;dhtmlDragAndDropObject.prototype.stopDrag=function(j,k,i){if(!i)if(dhtmlx.DragControl.s){dhtmlx.DragControl.D=d.dragStartNode;
dhtmlx.DragControl.Aa(j,true)}c.apply(this,arguments)};var d=new dhtmlDragAndDropObject,e=dhtmlx.DragControl.Za;dhtmlx.DragControl.Za=function(){e.apply(this,arguments);var j=dhtmlx.DragControl.F;if(j){for(var k=[],i=[],n=0;n<j.source.length;n++){k[n]={idd:j.source[n]};i.push(j.source[n])}d.dragStartNode={parentNode:{},parentObject:{idd:k,id:i.length==1?i[0]:i,treeNod:{object:j.from}}};d.dragStartNode.parentObject.treeNod[a]=k;d.dragStartObject=j.from}};var f=dhtmlx.DragControl.pa;dhtmlx.DragControl.pa=
function(j,k,i){f.apply(this,arguments);if(!this.s&&!i)j=d.checkLanding(j,k,true)};var g=dhtmlx.DragControl.Aa;dhtmlx.DragControl.Aa=function(j,k){g.apply(this,arguments);d.lastLanding&&!k&&d.stopDrag(j,false,true)};var h=dhtmlx.DragControl.getMaster;dhtmlx.DragControl.getMaster=function(j){var k=null;if(j)k=h.apply(this,arguments);if(!k){k=d.dragStartObject;for(var i=[],n=k[a],o=0;o<n.length;o++)i.push(n[o].idd||n[o].id);dhtmlx.DragControl.F.source=i}return k}}};
dhtmlx.DataMove={h:function(){},copy:function(a,b,c,d){var e=this.get(a);if(e){if(c)e=c.externalData(e);c=c||this;return c.add(c.externalData(e,d),b)}},move:function(a,b,c,d){if(a instanceof Array)for(d=0;d<a.length;d++){var e=(c||this).indexById(this.move(a[d],b,c,dhtmlx.uid()));if(a[d+1])b=e+(this.indexById(a[d+1])<e?0:1)}else{nid=a;if(!(b<0)){var f=this.get(a);if(f){if(!c||c==this)this.data.move(this.indexById(a),b);else{nid=c.add(c.externalData(f,d),b);this.remove(a)}return nid}}}},moveUp:function(a,
b){return this.move(a,this.indexById(a)-(b||1))},moveDown:function(a,b){return this.moveUp(a,(b||1)*-1)},moveTop:function(a){return this.move(a,0)},moveBottom:function(a){return this.move(a,this.data.dataCount()-1)},externalData:function(a,b){var c=dhtmlx.extend({},a);c.id=b||dhtmlx.uid();c.$selected=c.$template=null;return c}};
dhtmlx.DragControl={G:dhtmlx.toArray(["dummy"]),addDrop:function(a,b,c){a=dhtmlx.toNode(a);a.dhx_drop=this.pb(b);if(c)a.dhx_master=true},pb:function(a){a=a||dhtmlx.DragControl;var b=this.G.find(a);if(b<0){b=this.G.length;this.G.push(a)}return b},addDrag:function(a,b){a=dhtmlx.toNode(a);a.dhx_drag=this.pb(b);dhtmlx.event(a,"mousedown",this.zc,a)},zc:function(a){if(dhtmlx.DragControl.D){dhtmlx.DragControl.Wa();dhtmlx.DragControl.destroyDrag()}dhtmlx.DragControl.D=this;dhtmlx.DragControl.ca=dhtmlx.event(document.body,
"mousemove",dhtmlx.DragControl.Za);dhtmlx.DragControl.da=dhtmlx.event(document.body,"mouseup",dhtmlx.DragControl.Wa);a.cancelBubble=true;return false},Wa:function(){dhtmlx.DragControl.ca=dhtmlx.eventRemove(dhtmlx.DragControl.ca);dhtmlx.DragControl.da=dhtmlx.eventRemove(dhtmlx.DragControl.da)},Za:function(a){dhtmlx.DragControl.Wa();if(dhtmlx.DragControl.createDrag(a)){dhtmlx.DragControl.sendSignal("start");dhtmlx.DragControl.ca=dhtmlx.event(document.body,"mousemove",dhtmlx.DragControl.yb);dhtmlx.DragControl.da=
dhtmlx.event(document.body,"mouseup",dhtmlx.DragControl.Aa);dhtmlx.DragControl.yb(a)}},Aa:function(a){dhtmlx.DragControl.ca=dhtmlx.eventRemove(dhtmlx.DragControl.ca);dhtmlx.DragControl.da=dhtmlx.eventRemove(dhtmlx.DragControl.da);if(dhtmlx.DragControl.s){dhtmlx.DragControl.onDrop(dhtmlx.DragControl.D,dhtmlx.DragControl.s,this.Q,a);dhtmlx.DragControl.onDragOut(dhtmlx.DragControl.D,dhtmlx.DragControl.s,null,a)}dhtmlx.DragControl.destroyDrag();dhtmlx.DragControl.sendSignal("stop")},yb:function(a){var b=
dhtmlx.html.pos(a);dhtmlx.DragControl.z.style.top=b.y+dhtmlx.DragControl.top+"px";dhtmlx.DragControl.z.style.left=b.x+dhtmlx.DragControl.left+"px";if(dhtmlx.DragControl.Gb)dhtmlx.DragControl.Gb=false;else dhtmlx.DragControl.pa(a.srcElement||a.target,a);a.cancelBubble=true;return false},pa:function(a,b){for(;a&&a.tagName!="BODY";){if(a.dhx_drop){if(this.s&&(this.s!=a||a.dhx_master))this.onDragOut(this.D,this.s,a,b);if(!this.s||this.s!=a||a.dhx_master){this.s=null;if(this.Q=this.onDragIn(dhtmlx.DragControl.D,
a,b))this.s=a;return}return}a=a.parentNode}if(this.s)this.s=this.Q=this.onDragOut(this.D,this.s,null,b)},sendSignal:function(a){dhtmlx.DragControl.active=a=="start"},getMaster:function(a){return this.G[a.dhx_drag||a.dhx_drop]},getContext:function(){return this.F},createDrag:function(a){var b=dhtmlx.DragControl.D,c=this.G[b.dhx_drag],d;if(c.onDragCreate){d=c.onDragCreate(b,a);d.style.position="absolute";d.style.zIndex=dhtmlx.zIndex.drag;d.onmousemove=dhtmlx.DragControl.Hb}else{var e=dhtmlx.DragControl.onDrag(b,
a);if(!e)return false;d=document.createElement("DIV");d.innerHTML=e;d.className="dhx_drag_zone";d.onmousemove=dhtmlx.DragControl.Hb;document.body.appendChild(d)}dhtmlx.DragControl.z=d;return true},Hb:function(){dhtmlx.DragControl.Gb=true},destroyDrag:function(){var a=dhtmlx.DragControl.D,b=this.G[a.dhx_drag];b&&b.onDragDestroy?b.onDragDestroy(a,dhtmlx.DragControl.z):dhtmlx.html.remove(dhtmlx.DragControl.z);dhtmlx.DragControl.Q=dhtmlx.DragControl.D=dhtmlx.DragControl.s=dhtmlx.DragControl.z=null},top:5,
left:5,onDragIn:function(a,b,c){var d=this.G[b.dhx_drop];if(d.onDragIn&&d!=this)return d.onDragIn(a,b,c);b.className+=" dhx_drop_zone";return b},onDragOut:function(a,b,c,d){var e=this.G[b.dhx_drop];if(e.onDragOut&&e!=this)return e.onDragOut(a,b,c,d);b.className=b.className.replace("dhx_drop_zone","");return null},onDrop:function(a,b,c,d){var e=this.G[b.dhx_drop];dhtmlx.DragControl.F.from=dhtmlx.DragControl.getMaster(a);if(e.onDrop&&e!=this)return e.onDrop(a,b,c,d);b.appendChild(a)},onDrag:function(a,
b){var c=this.G[a.dhx_drag];if(c.onDrag&&c!=this)return c.onDrag(a,b);dhtmlx.DragControl.F={source:a,from:a};return"<div style='"+a.style.cssText+"'>"+a.innerHTML+"</div>"}};
dhtmlx.DragItem={h:function(){if(!this.e||this.e.drag)dhtmlx.DragItem.tb(this);else if(this.e)this.drag_setter=function(a){if(a){this.tb(this);delete this.drag_setter}return a};if(this.dragMarker){this.attachEvent("onBeforeDragIn",this.dragMarker);this.attachEvent("onDragOut",this.dragMarker)}},tb:function(a){dhtmlx.DragControl.addDrop(a.g,a,true);dhtmlx.DragControl.addDrag(a.g,a)},onDragIn:function(a,b,c){b=this.locate(c)||null;var d=dhtmlx.DragControl.F,e=dhtmlx.DragControl.getMaster(a);a=this.B(b)||
this.g;if(a==dhtmlx.DragControl.Q)return a;d.target=b;d.to=e;if(!this.callEvent("onBeforeDragIn",[d,c]))return d.id=null;dhtmlx.html.addCss(a,"dhx_drag_over");return a},onDragOut:function(a,b,c,d){a=this.locate(d)||null;c=this.B(a)||(c?dhtmlx.DragControl.getMaster(c).g:window.undefined);if(c==dhtmlx.DragControl.Q)return null;c=dhtmlx.DragControl.F;dhtmlx.html.removeCss(dhtmlx.DragControl.Q,"dhx_drag_over");c.target=c.to=null;this.callEvent("onDragOut",[c,d]);return null},onDrop:function(a,b,c,d){a=
dhtmlx.DragControl.F;a.to=this;a.index=a.target?this.indexById(a.target):this.dataCount();a.new_id=dhtmlx.uid();if(this.callEvent("onBeforeDrop",[a,d])){if(a.from==a.to)this.move(a.source,a.index);else a.from&&a.from.move(a.source,a.index,a.to,a.new_id);this.callEvent("onAfterDrop",[a,d])}},onDrag:function(a,b){a=this.locate(b);var c=[a];if(a){if(this.getSelected){var d=this.getSelected();if(dhtmlx.PowerArray.find.call(d,a)!=-1)c=d}var e=dhtmlx.DragControl.F={source:c,start:a};e.from=this;if(this.callEvent("onBeforeDrag",
[e,b]))return e.html||this.X(this.get(a))}return null}};
dhtmlx.EditAbility={h:function(){this.ra=this.J=null;this.attachEvent("onEditKeyPress",function(a,b,c){if(a==13&&!c)this.stopEdit();else a==27&&this.stopEdit(true)});this.attachEvent("onBeforeRender",function(){this.stopEdit()})},isEdit:function(){return this.J},edit:function(a){if(this.stopEdit(false,a))if(this.callEvent("onBeforeEditStart",[a])){var b=this.data.get(a);if(!b.$template){b.$template="edit";this.data.refresh(a);this.J=a;this.Gc(a);this.ra(true,b);this.callEvent("onAfterEditStart",[a])}}},
stopEdit:function(a,b){if(!this.J)return true;if(this.J==b)return false;if(!this.callEvent("onBeforeEditStop",[this.J]))return false;var c=this.data.get(this.J);c.$template=null;a||this.ra(false,c);c=this.J;this.ra=this.J=null;this.data.refresh(c);this.callEvent("onAfterEditStop",[c]);return true},Gc:function(a){var b=this.B(a),c="",d="",e=[];if(b){var f=b.getElementsByTagName("*"),g="";for(a=0;a<f.length;a++)if(f[a].nodeType==1&&(g=f[a].getAttribute("bind"))){c+="els["+e.length+"].value="+g+";";
d+=g+"=els["+e.length+"].value;";e.push(f[a]);f[a].className+=" dhx_allow_selection";f[a].onselectstart=this.Mb}f=null}c=Function("obj","els",c);d=Function("obj","els",d);this.ra=function(h,j){if(h){c(j,e);e.length&&e[0].select&&e[0].select()}else d(j,e)}},Mb:function(a){return(a||event).cancelBubble=true}};
dhtmlx.KeyEvents={h:function(){dhtmlx.event(this.g,"keypress",this.wc,this)},wc:function(a){a=a||event;var b=a.which||a.keyCode;this.callEvent(this.J?"onEditKeyPress":"onKeyPress",[b,a.ctrlKey,a.shiftKey,a])}};
dhtmlx.MouseEvents={h:function(){if(this.on_click){dhtmlx.event(this.g,"click",this.tc,this);dhtmlx.event(this.g,"contextmenu",this.uc,this)}this.on_dblclick&&dhtmlx.event(this.g,"dblclick",this.vc,this);if(this.on_mouse_move){dhtmlx.event(this.g,"mousemove",this.Ab,this);dhtmlx.event(this.g,dhtmlx.P?"mouseleave":"mouseout",this.Ab,this)}},tc:function(a){return this.Ta(a,this.on_click,"ItemClick")},vc:function(a){return this.Ta(a,this.on_dblclick,"ItemDblClick")},uc:function(a){var b=dhtmlx.html.locate(a,
this.A);if(b&&!this.callEvent("onBeforeContextMenu",[b,a]))return dhtmlx.html.preventEvent(a)},Ab:function(a){if(dhtmlx.P)a=document.createEventObject(event);this.xb&&window.clearTimeout(this.xb);this.callEvent("onMouseMoving",[a]);this.xb=window.setTimeout(dhtmlx.bind(function(){a.type=="mousemove"?this.xc(a):this.yc(a)},this),500)},xc:function(a){this.Ta(a,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",[a||event])},yc:function(a){this.callEvent("onMouseOut",[a||event])},Ta:function(a,
b,c){a=a||event;for(var d=a.target||a.srcElement,e="",f=null,g=false;d&&d.parentNode;){if(!g&&d.getAttribute)if(f=d.getAttribute(this.A)){d.getAttribute("userdata")&&this.callEvent("onLocateData",[f,d]);if(!this.callEvent("on"+c,[f,a,d]))return;g=true}if(e=d.className){e=e.split(" ");e=e[0]||e[1];if(b[e])return b[e].call(this,a,f,d)}d=d.parentNode}return g}};
dhtmlx.SelectionModel={h:function(){this.n=dhtmlx.toArray();this.data.attachEvent("onStoreUpdated",dhtmlx.bind(this.Pb,this));this.data.attachEvent("onStoreLoad",dhtmlx.bind(this.Ob,this));this.data.attachEvent("onAfterFilter",dhtmlx.bind(this.Nb,this));this.data.attachEvent("onIdChange",dhtmlx.bind(this.lc,this))},lc:function(a,b){for(var c=this.n.length-1;c>=0;c--)if(this.n[c]==a)this.n[c]=b},Nb:function(){for(var a=this.n.length-1;a>=0;a--){if(this.data.indexById(this.n[a])<0)var b=this.n[a];var c=
this.item(b);c&&delete c.$selected;this.n.splice(a,1);this.callEvent("onSelectChange",[b])}},Pb:function(a,b,c){if(c=="delete")this.n.remove(a);else if(!this.data.dataCount()&&!this.data.i)this.n=dhtmlx.toArray()},Ob:function(){this.e.select&&this.data.each(function(a){a.$selected&&this.select(a.id)},this)},wa:function(a,b,c){if(!c&&!this.callEvent("onBeforeSelect",[a,b]))return false;this.data.item(a).$selected=b;if(c)c.push(a);else{b?this.n.push(a):this.n.remove(a);this.Xa(a)}return true},select:function(a,
b,c){if(!a)return this.selectAll();if(a instanceof Array)for(var d=0;d<a.length;d++)this.select(a[d],b,c);else if(this.data.exists(a)){if(c&&this.n.length)return this.selectAll(this.n[this.n.length-1],a);if(!b&&(this.n.length!=1||this.n[0]!=a)){this.Fb=true;this.unselectAll();this.Fb=false}if(this.isSelected(a))b&&this.unselect(a);else this.wa(a,true)&&this.callEvent("onAfterSelect",[a])}},unselect:function(a){if(!a)return this.unselectAll();this.isSelected(a)&&this.wa(a,false)},selectAll:function(a,
b){var c,d=[];c=a||b?this.data.getRange(a||null,b||null):this.data.getRange();c.each(function(e){var f=this.data.item(e.id);if(!f.$selected){this.n.push(e.id);this.wa(e.id,true,d)}return e.id},this);this.Xa(d)},unselectAll:function(){var a=[];this.n.each(function(b){this.wa(b,false,a)},this);this.n=dhtmlx.toArray();this.Xa(a)},isSelected:function(a){return this.n.find(a)!=-1},getSelected:function(a){switch(this.n.length){case 0:return a?[]:"";case 1:return a?[this.n[0]]:this.n[0];default:return[].concat(this.n)}},
pc:function(a){return a.length>100||a.length>this.data.dataCount/2},Xa:function(a){if(typeof a!="object")a=[a];if(a.length){if(this.pc(a))this.data.refresh();else for(var b=0;b<a.length;b++)this.render(a[b],this.data.item(a[b]),"update");this.Fb||this.callEvent("onSelectChange",[a])}}};
dhtmlx.RenderStack={h:function(){this.z=document.createElement("DIV")},X:function(a){this.callEvent("onItemRender",[a]);return this.type.wb(a,this.type)+(a.$template?this.type["template_"+a.$template]:this.type.template)(a,this.type)+this.type.vb},bb:function(a){this.z.innerHTML=this.X(a);return this.z.firstChild},B:function(a){if(this.p)return this.p[a];this.p={};for(var b=this.k.childNodes,c=0;c<b.length;c++){var d=b[c].getAttribute(this.A);if(d)this.p[d]=b[c]}return this.B(a)},locate:function(a){return dhtmlx.html.locate(a,
this.A)},show:function(a){if(a=this.B(a))this.k.scrollTop=a.offsetTop-this.k.offsetTop},render:function(a,b,c){if(a){var d=this.B(a);switch(c){case "update":if(!d)return;b=this.p[a]=this.bb(b);dhtmlx.html.insertBefore(b,d);dhtmlx.html.remove(d);break;case "delete":if(!d)return;dhtmlx.html.remove(d);delete this.p[a];break;case "add":b=this.p[a]=this.bb(b);dhtmlx.html.insertBefore(b,this.B(this.data.next(a)),this.k);break;case "move":this.render(a,b,"delete");this.render(a,b,"add");break;default:break}}else if(this.callEvent("onBeforeRender",
[this.data])){this.k.innerHTML=this.data.getRange().map(this.X,this).join("");this.p=null}this.callEvent("onAfterRender",[])},pager_setter:function(a){this.attachEvent("onBeforeRender",function(){var d=this.e.pager.e;if(d.page==-1)return false;this.data.min=d.page*d.size;this.data.max=(d.page+1)*d.size-1;return true});var b=new dhtmlx.ui.pager(a),c=dhtmlx.bind(function(){this.data.refresh()},this);b.attachEvent("onRefresh",c);this.data.attachEvent("onStoreUpdated",function(){var d=this.dataCount();
if(d!=b.e.count){b.e.count=d;if(b.e.page==-1)b.e.page=0;b.refresh()}});return b},height_setter:function(a){if(a=="auto"){this.attachEvent("onAfterRender",this.fb);dhtmlx.event(window,"resize",dhtmlx.bind(this.fb,this))}return a},fb:function(){this.k.style.overflow="hidden";this.k.style.height="1px";var a=this.k.scrollHeight;this.k.style.height=a+"px";if(dhtmlx.ub){var b=this.k.scrollHeight;if(b!=a)this.k.style.height=b+"px"}this.g.style.height=this.k.style.height},Ma:function(){var a=this.type,b=
(a.border||0)+(a.padding||0)*2+(a.margin||0)*2;return{x:a.width+b,y:a.height+b}},x_count_setter:function(a){var b=this.Ma();this.k.style.width=b.x*a+(this.e.height!="auto"?18:0)+"px";return a},y_count_setter:function(a){var b=this.Ma();this.k.style.height=b.y*a+"px";return a}};
dhtmlx.VirtualRenderStack={h:function(){this.p={};this.k.style.overflowY="scroll";dhtmlx.event(this.k,"scroll",dhtmlx.bind(this.Cb,this));dhtmlx.event(window,"resize",dhtmlx.bind(function(){this.render()},this));this.ja=[];this.attachEvent("onItemRender",function(a){a.$template=="loading"&&this.ja.push(this.data.id(a))})},B:function(a){return this.p[a]},show:function(a){range=this.qb();var b=this.data.indexById(a),c=Math.floor(b/range.La)*range.Ba;this.k.scrollTop=c},render:function(a,b,c){if(a){var d=
this.B(a);switch(c){case "update":if(!d)return;a=this.p[a]=this.bb(b);dhtmlx.html.insertBefore(a,d);dhtmlx.html.remove(d);break;default:this.Ec();break}}else if(this.callEvent("onBeforeRender",[this.data])){this.p={};this.Cb(null,true);this.Ib=false;this.callEvent("onAfterRender",[])}},Ec:function(){if(!this.Ib){this.Ib=true;window.setTimeout(dhtmlx.bind(function(){this.render()},this),1)}},Ha:function(a){var b=document.createElement("DIV");b.style.cssText="height:"+a+"px; width:100%; overflow:hidden;";
return b},Cb:function(a,b){this.ja=[];var c=this.qb();if(!this.k.firstChild||b){this.k.innerHTML="";this.k.appendChild(this.Ha(c.rc));this.L=[this.k.firstChild]}a=c.q;for(var d=this.data.max||this.data.max===0?this.data.max:Infinity;a<=c.Qa;){for(;this.L[a]&&this.L[a].ec&&a<=c.Qa;)a++;if(a>c.Qa)break;for(var e=a;!this.L[e];)e--;var f=this.L[e],g=a*c.La+(this.data.min||0);if(g>d)break;var h=Math.min(g+c.La-1,d),j=this.Ha(c.Ba),k=this.data.getIndexRange(g,h);if(!k.length)break;j.innerHTML=k.map(this.X,
this).join("");for(var i=0;i<k.length;i++)this.p[this.data.idByIndex(g+i)]=j.childNodes[i];var n=parseInt(f.style.height,10),o=(a-e)*c.Ba,q=n-o-c.Ba;dhtmlx.html.insertBefore(j,o?f.nextSibling:f,this.k);this.L[a]=j;j.ec=true;if(o<=0&&q>0){f.style.height=q+"px";this.L[a+1]=f}else{if(o<0)dhtmlx.html.remove(f);else f.style.height=o+"px";if(q>0){var v=this.L[a+1]=this.Ha(q);dhtmlx.html.insertBefore(v,j.nextSibling,this.k)}}a++}if(this.ja.length){a=this.indexById(this.ja[0]);j=this.indexById(this.ja.pop())+
1;if(j>a){if(!this.callEvent("onDataRequest",[a,j-a]))return false;this.data.feed.call(this,a,j-a)}}},qb:function(){var a=this.k.scrollTop,b=Math.max(this.k.scrollWidth,this.k.offsetWidth)-18,c=this.k.offsetHeight,d=this.Ma(),e=Math.floor(b/d.x)||1,f=Math.floor(a/d.y);c=Math.ceil((c+a)/d.y)-1;var g=this.data.max?this.data.max-this.data.min:this.data.dataCount(),h=Math.ceil(g/e)*d.y;return{q:f,Qa:c,Rc:a,rc:h,Ba:d.y,La:e}}};
dhtmlx.ajax=function(a,b,c){if(arguments.length!==0){var d=new dhtmlx.ajax;if(c)d.master=c;d.get(a,null,b)}if(!this.getXHR)return new dhtmlx.ajax;return this};
dhtmlx.ajax.prototype={getXHR:function(){return dhtmlx.env.isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,b,c){var d=this.getXHR();if(typeof c=="function")c=[c];if(typeof b=="object"){var e=[];for(var f in b){var g=b[f];if(g===null||g===dhtmlx.undefined)g="";e.push(f+"="+encodeURIComponent(g))}b=e.join("&")}if(b&&!this.post){a=a+(a.indexOf("?")!=-1?"&":"?")+b;b=null}d.open(this.post?"POST":"GET",a,!this.$a);this.post&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var h=this;d.onreadystatechange=function(){if(!d.readyState||d.readyState==4){if(c&&h)for(var j=0;j<c.length;j++)if(c[j])c[j].call(h.master||h,d.responseText,d.responseXML,d);c=h=h.master=null}};d.send(b||null);return d},get:function(a,b,c){this.post=false;return this.send(a,b,c)},post:function(a,b,c){this.post=true;return this.send(a,b,c)},sync:function(){this.$a=true;return this}};
dhtmlx.AtomDataLoader={h:function(a){this.data={};if(a){this.e.datatype=a.datatype||"json";this.ka.push(this.Sa)}},Sa:function(){this.ha=true;this.e.url&&this.url_setter(this.e.url);this.e.data&&this.data_setter(this.e.data)},url_setter:function(a){if(!this.ha)return a;this.load(a,this.e.datatype);return a},data_setter:function(a){if(!this.ha)return a;this.parse(a,this.e.datatype);return true},load:function(a,b,c){this.callEvent("onXLS",[]);if(typeof b=="string"){this.data.driver=dhtmlx.DataDriver[b];
b=c}else this.data.driver=dhtmlx.DataDriver.xml;dhtmlx.ajax(a,[this.S,b],this)},parse:function(a,b){this.callEvent("onXLS",[]);this.data.driver=dhtmlx.DataDriver[b||"xml"];this.S(a,null)},S:function(a,b){var c=this.data.driver;b=c.getRecords(c.toObject(a,b))[0];this.data=c?c.getDetails(b):a;this.callEvent("onXLE",[])},aa:function(a){if(!this.e.dataFeed||this.W||!a)return true;var b=this.e.dataFeed;b=b+(b.indexOf("?")==-1?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.callEvent("onXLS",
[]);dhtmlx.ajax(b,function(c){this.W=true;this.setValues(dhtmlx.DataDriver.json.toObject(c)[0]);this.W=false;this.callEvent("onXLE",[])},this);return false}};dhtmlx.DataDriver={};dhtmlx.DataDriver.json={toObject:function(a){a||(a="[]");if(typeof a=="string"){eval("dhtmlx.temp="+a);return dhtmlx.temp}return a},getRecords:function(a){if(a&&!(a instanceof Array))return[a];return a},getDetails:function(a){return a},getInfo:function(a){return{u:a.total_count||0,q:a.pos||0}}};
dhtmlx.DataDriver.json_ext={toObject:function(a){a||(a="[]");if(typeof a=="string"){var b;eval("temp="+a);dhtmlx.temp=[];var c=b.header;for(a=0;a<b.data.length;a++){for(var d={},e=0;e<c.length;e++)if(typeof b.data[a][e]!="undefined")d[c[e]]=b.data[a][e];dhtmlx.temp.push(d)}return dhtmlx.temp}return a},getRecords:function(a){if(a&&!(a instanceof Array))return[a];return a},getDetails:function(a){return a},getInfo:function(a){return{u:a.total_count||0,q:a.pos||0}}};
dhtmlx.DataDriver.html={toObject:function(a){if(typeof a=="string"){var b=null;if(a.indexOf("<")==-1)b=dhtmlx.toNode(a);if(!b){b=document.createElement("DIV");b.innerHTML=a}return b.getElementsByTagName(this.tag)}return a},getRecords:function(a){if(a.tagName)return a.childNodes;return a},getDetails:function(a){return dhtmlx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{u:0,q:0}},tag:"LI"};
dhtmlx.DataDriver.jsarray={toObject:function(a){if(typeof a=="string"){eval("dhtmlx.temp="+a);return dhtmlx.temp}return a},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{u:0,q:0}}};
dhtmlx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){a=this.stringToArray(a);for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{u:0,q:0}},stringToArray:function(a){a=a.split(this.cell);for(var b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
dhtmlx.DataDriver.xml={toObject:function(a,b){if(b&&(b=this.checkResponse(a,b)))return b;if(typeof a=="string")return this.fromString(a);return a},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){return{u:a.documentElement.getAttribute("total_count")||0,q:a.documentElement.getAttribute("pos")||0}},xpath:function(a,b){if(window.XPathResult){var c=a;if(a.nodeName.indexOf("document")==-1)a=a.ownerDocument;
var d=[],e=a.evaluate(b,c,null,XPathResult.ANY_TYPE,null);for(a=e.iterateNext();a;){d.push(a);a=e.iterateNext()}return d}else{d=true;try{if(typeof a.selectNodes=="undefined")d=false}catch(f){}if(d)return a.selectNodes(b);else{b=b.split("/").pop();return a.getElementsByTagName(b)}}},tagToObject:function(a,b){b=b||{};var c=false,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=true}d=a.childNodes;for(e=0;e<d.length;e++)if(d[e].nodeType==1){var f=d[e].tagName;if(typeof b[f]!=
"undefined"){b[f]instanceof Array||(b[f]=[b[f]]);b[f].push(this.tagToObject(d[e],{}))}else b[d[e].tagName]=this.tagToObject(d[e],{});c=true}if(!c)return this.nodeValue(a);b.value=this.nodeValue(a);return b},nodeValue:function(a){if(a.firstChild)return a.firstChild.data;return""},fromString:function(a){if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");b.loadXML(a);return b}},checkResponse:function(a,b){if(b&&
b.firstChild&&b.firstChild.tagName!="parsererror")return b;if(a=this.fromString(a.replace(/^[\s]+/,"")))return a}};
dhtmlx.DataLoader={h:function(a){a=a||"";name="DataStore";this.data=a.datastore||new dhtmlx.DataStore;this.T=this.data.attachEvent("onStoreLoad",dhtmlx.bind(this.Ea,this))},load:function(a){dhtmlx.AtomDataLoader.load.apply(this,arguments);if(!this.data.feed)this.data.feed=function(b,c){if(this.K)return this.K=[b,c];else this.K=true;this.load(a+(a.indexOf("?")==-1?"?":"&")+"posStart="+b+"&count="+c,function(){var d=this.K;this.K=false;typeof d=="object"&&this.data.feed.apply(this,d)})}},S:function(a,
b){this.data.Ua(this.data.driver.toObject(a,b));this.callEvent("onXLE",[]);if(this.T){this.data.detachEvent(this.T);this.T=null}},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",dhtmlx.bind(function(b,c){if(this.e.dataFeed){var d={};if(b||d){if(typeof b=="function"){if(!c)return;b(c,d)}else d={text:c};this.clearAll();b=this.e.dataFeed;var e=[];for(var f in d)e.push("dhx_filter["+f+"]="+encodeURIComponent(d[f]));this.load(b+(b.indexOf("?")<0?"?":"&")+e.join("&"),this.e.datatype);
return false}}},this));return a},Ea:function(){if(this.e.ready){var a=dhtmlx.toFunctor(this.e.ready);a&&a.call&&a.apply(this,arguments)}}};dhtmlx.DataStore=function(){this.name="DataStore";dhtmlx.extend(this,dhtmlx.EventSystem);this.setDriver("xml");this.pull={};this.order=dhtmlx.toArray()};
dhtmlx.DataStore.prototype={setDriver:function(a){this.driver=dhtmlx.DataDriver[a]},Ua:function(a){this.callEvent("onParse",[this.driver,a]);this.i&&this.filter();var b=this.driver.getInfo(a),c=this.driver.getRecords(a),d=(b.q||0)*1;if(d===0&&this.order[0])d=this.order.length;for(var e=0,f=0;f<c.length;f++){var g=this.driver.getDetails(c[f]),h=this.id(g);if(!this.pull[h]){this.order[e+d]=h;e++}this.pull[h]=g;this.extraParser&&this.extraParser(g);if(this.j)if(this.j.$init)this.j.$update(g);else this.j.$update&&
this.j.$update(g)}for(f=0;f<b.u;f++)if(!this.order[f]){h=dhtmlx.uid();g={id:h,$template:"loading"};this.pull[h]=g;this.order[f]=h}this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},id:function(a){return a.id||(a.id=dhtmlx.uid())},changeId:function(a,b){this.pull[b]=this.pull[a];this.pull[b].id=b;this.order[this.order.find(a)]=b;if(this.i)this.i[this.i.find(a)]=b;this.callEvent("onIdChange",[a,b]);this.Ya&&this.Ya(a,b)},get:function(a){return this.item(a)},set:function(a,b){return this.update(a,
b)},item:function(a){return this.pull[a]},update:function(a,b){this.j&&this.j.$update&&this.j.$update(b);if(this.callEvent("onBeforeUpdate",[a,b])===false)return false;this.pull[a]=b;this.refresh(a)},refresh:function(a){this.ia||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a){this.ia=true;a.call(this);this.ia=false},getRange:function(a,b){a=a?this.indexById(a):this.startOffset||0;if(b)b=this.indexById(b);else{b=Math.min(this.endOffset||
Infinity,this.dataCount()-1);if(b<0)b=0}if(a>b){var c=b;b=a;a=c}return this.getIndexRange(a,b)},getIndexRange:function(a,b){b=Math.min(b||Infinity,this.dataCount()-1);var c=dhtmlx.toArray();for(a=a||0;a<=b;a++)c.push(this.item(this.order[a]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){if(!(a<0||b<0)){var c=this.idByIndex(a),d=this.item(c);this.order.removeAt(a);this.order.insertAt(c,Math.min(this.order.length,b));this.callEvent("onStoreUpdated",
[c,d,"move"])}},scheme:function(a){this.j=a},sync:function(a,b,c){if(typeof b!="function"){c=b;b=null}if(dhtmlx.debug_bind)this.debug_sync_master=a;if(a.name!="DataStore")a=a.data;var d=dhx.bind(function(e,f,g){if(g!="update"||b)e=null;if(!e){this.order=dhx.toArray([].concat(a.order));this.i=null;this.pull=a.pull;b&&this.silent(b);this.ua&&this.ua()}if(c)c=false;else this.refresh(e)},this);a.attachEvent("onStoreUpdated",d);d()},add:function(a,b){if(this.j){a=a||{};for(var c in this.j)a[c]=a[c]||this.j[c];
if(this.j)if(this.j.$init)this.j.$update(a);else this.j.$update&&this.j.$update(a)}c=this.id(a);var d=this.dataCount();if(dhtmlx.isNotDefined(b)||b<0)b=d;if(b>d)b=Math.min(this.order.length,b);if(this.callEvent("onBeforeAdd",[c,a,b])===false)return false;if(this.exists(c))return null;this.pull[c]=a;this.order.insertAt(c,b);if(this.i){var e=this.i.length;if(!b&&this.order.length)e=0;this.i.insertAt(c,e)}this.callEvent("onafterAdd",[c,b]);this.callEvent("onStoreUpdated",[c,a,"add"]);return c},remove:function(a){if(a instanceof
Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(this.callEvent("onBeforeDelete",[a])===false)return false;if(!this.exists(a))return null;b=this.item(a);this.order.remove(a);this.i&&this.i.remove(a);delete this.pull[a];this.callEvent("onafterdelete",[a]);this.callEvent("onStoreUpdated",[a,b,"delete"])}},clearAll:function(){this.pull={};this.order=dhtmlx.toArray();this.i=this.feed=null;this.callEvent("onClearAll",[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){return a=
this.order.find(a)},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(a,b){return this.order[this.indexById(a)-(b||1)]},sort:function(a,b,c){var d=a;if(typeof a=="function")d={as:a,dir:b};else if(typeof a=="string")d={by:a,dir:b,as:c};var e=[d.by,d.dir,d.as];if(this.callEvent("onbeforesort",e)){if(this.order.length){var f=dhtmlx.sort.create(d),g=this.getRange(this.first(),
this.last());g.sort(f);this.order=g.map(function(h){return this.id(h)},this)}this.refresh();this.callEvent("onaftersort",e)}},filter:function(a,b){if(this.callEvent("onBeforeFilter",[a,b])){if(this.i){this.order=this.i;delete this.i}if(this.order.length){if(a){var c=a;b=b||"";if(typeof a=="string"){a=dhtmlx.Template(a);b=b.toString().toLowerCase();c=function(g,h){return a(g).toLowerCase().indexOf(h)!=-1}}for(var d=dhtmlx.toArray(),e=0;e<this.order.length;e++){var f=this.order[e];c(this.item(f),b)&&
d.push(f)}this.i=this.order;this.order=d}this.refresh();this.callEvent("onAfterFilter",[])}}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},provideApi:function(a,b){this.debug_bind_master=a;b&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var c=["get","set","sort","add","remove","exists","idByIndex","indexById","item","update","refresh","dataCount","filter","next","previous",
"clearAll","first","last","serialize"],d=0;d<c.length;d++)a[c[d]]=dhtmlx.methodPush(this,c[d])},serialize:function(){for(var a=this.order,b=[],c=0;c<a.length;c++)b.push(this.pull[a[c]]);return b}};
dhtmlx.sort={create:function(a){return dhtmlx.sort.dir(a.dir,dhtmlx.sort.by(a.by,a.as))},as:{"int":function(a,b){a*=1;b*=1;return a>b?1:a<b?-1:0},string_strict:function(a,b){a=a.toString();b=b.toString();return a>b?1:a<b?-1:0},string:function(a,b){a=a.toString().toLowerCase();b=b.toString().toLowerCase();return a>b?1:a<b?-1:0}},by:function(a,b){if(!a)return b;if(typeof b!="function")b=dhtmlx.sort.as[b||"string"];a=dhtmlx.Template(a);return function(c,d){return b(a(c),a(d))}},dir:function(a,b){if(a==
"asc")return b;return function(c,d){return b(c,d)*-1}}};if(!dhtmlx.attaches)dhtmlx.attaches={};dhtmlx.attaches.attachAbstract=function(a,b){var c=document.createElement("DIV");c.id="CustomObject_"+dhtmlx.uid();c.style.width="100%";c.style.height="100%";c.cmp="grid";document.body.appendChild(c);this.attachObject(c.id);b.container=c.id;var d=this.vs[this.av];d.grid=new window[a](b);d.gridId=c.id;d.gridObj=c;d.grid.setSizes=function(){this.resize?this.resize():this.render()};var e="_viewRestore";return this.vs[this[e]()].grid};
dhtmlx.attaches.attachDataView=function(a){return this.attachAbstract("dhtmlXDataView",a)};dhtmlx.attaches.attachChart=function(a){return this.attachAbstract("dhtmlXChart",a)};dhtmlx.compat.layout=function(){};
dhtmlXDataView=function(a){this.name="DataView";this.version="3.0";dhtmlx.extend(this,dhtmlx.Settings);this.Va(a,"dhx_dataview");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.RenderStack);dhtmlx.extend(this,dhtmlx.SelectionModel);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.KeyEvents);dhtmlx.extend(this,dhtmlx.EditAbility);dhtmlx.extend(this,dhtmlx.DataMove);dhtmlx.extend(this,dhtmlx.DragItem);
dhtmlx.extend(this,dhtmlx.DataProcessor);dhtmlx.extend(this,dhtmlx.AutoTooltip);dhtmlx.extend(this,dhtmlx.Destruction);this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render.apply(this,arguments)},this));this.I(a,{drag:false,edit:false,select:"multiselect",type:"default"});this.e.height!="auto"&&dhtmlx.extend(this,dhtmlx.VirtualRenderStack);this.data.provideApi(this,true)};
dhtmlXDataView.prototype={bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},dragMarker:function(a){var b=this.B(a.target);if(this.type.drag_marker){if(this.Ia){this.Ia.style.backgroundImage="";this.Ia.style.backgroundRepeat=""}if(b){b.style.backgroundImage="url("+(dhtmlx.image_path||"")+this.type.drag_marker+")";b.style.backgroundRepeat="no-repeat";this.Ia=b}}if(b&&this.e.auto_scroll){a=b.offsetTop;var c=b.offsetHeight,d=
this.g.scrollTop,e=this.g.offsetHeight;if(a-c>=0&&a-c*0.75<d)d=Math.max(a-c,0);else if(a+c/0.75>d+e)d+=c;this.g.scrollTop=d}return true},A:"dhx_f_id",on_click:{dhx_dataview_item:function(a,b){if(this.stopEdit(false,b))if(this.e.select)this.e.select=="multiselect"?this.select(b,a.ctrlKey,a.shiftKey):this.select(b)}},on_dblclick:{dhx_dataview_item:function(a,b){this.e.edit&&this.edit(b)}},on_mouse_move:{},types:{"default":{css:"default",template:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'>{obj.text}</div>"),
template_edit:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'><textarea style='width:100%; height:100%;' bind='obj.text'></textarea></div>"),template_loading:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'>Loading...</div>"),width:210,height:115,margin:0,padding:10,border:1}},template_item_start:dhtmlx.Template.fromHTML("<div dhx_f_id='{-obj.id}' class='dhx_dataview_item dhx_dataview_{obj.css}_item{-obj.$selected?_selected:}' style='width:{obj.width}px; height:{obj.height}px; padding:{obj.padding}px; margin:{obj.margin}px; float:left; overflow:hidden;'>"),
template_item_end:dhtmlx.Template.fromHTML("</div>")};dhtmlx.compat("layout");dhtmlx.math={};dhtmlx.math.Lc=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];dhtmlx.math.toHex=function(a,b){a=parseInt(a,10);for(str="";a>0;){str=this.Lc[a%16]+str;a=Math.floor(a/16)}for(;str.length<b;)str="0"+str;return str};dhtmlx.ui.Map=function(a){this.name="Map";this.A="map_"+dhtmlx.uid();this.qc=a;this.C=[]};
dhtmlx.ui.Map.prototype={addRect:function(a,b,c){this.hb(a,"RECT",b,c)},addPoly:function(a,b){this.hb(a,"POLY",b)},hb:function(a,b,c,d){var e="";if(arguments.length==4)e="userdata='"+d+"'";this.C.push("<area "+this.qc+"='"+a+"' shape='"+b+"' coords='"+c.join()+"' "+e+"></area>")},addSector:function(a,b,c,d,e,f,g){var h=[];h.push(d);h.push(Math.floor(e*g));for(var j=b;j<c;j+=Math.PI/18){h.push(Math.floor(d+f*Math.cos(j)));h.push(Math.floor((e+f*Math.sin(j))*g))}h.push(Math.floor(d+f*Math.cos(c)));
h.push(Math.floor((e+f*Math.sin(c))*g));h.push(d);h.push(Math.floor(e*g));return this.addPoly(a,h)},render:function(a){var b=dhtmlx.html.create("DIV");b.style.cssText="position:absolute; width:100%; height:100%; top:0px; left:0px;";a.appendChild(b);var c=dhtmlx.P?"":"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='";b.innerHTML="<map id='"+this.A+"' name='"+this.A+"'>"+this.C.join("\n")+"</map><img "+c+" class='dhx_map_img' usemap='#"+this.A+
"'>";a.p=b;this.C=[]}};dhtmlx.chart={};
dhtmlx.chart.area={pvt_render_area:function(a,b,c,d,e,f){var g=this.na(a,b,c,d,e),h=Math.floor(g.cellWidth/2);if(b.length){a.globalAlpha=this.e.alpha.call(this,b[0]);a.fillStyle=this.e.color.call(this,b[0]);var j=this.O(b[0],c,d,g),k=this.e.offset?c.x+g.cellWidth*0.5:c.x;a.beginPath();a.moveTo(k,d.y);a.lineTo(k,j);f.addRect(b[0].id,[k-h,j-h,k+h,j+h]);this.e.yAxis||this.renderTextAt(false,!this.e.offset?false:true,k,j-this.e.labelOffset,this.e.label(b[0]));for(var i=1;i<b.length;i++){var n=k+Math.floor(g.cellWidth*
i)-0.5,o=this.O(b[i],c,d,g);a.lineTo(n,o);f.addRect(b[i].id,[n-h,o-h,n+h,o+h]);this.e.yAxis||this.renderTextAt(false,!this.e.offset&&i==b.length-1?"left":"center",n,o-this.e.labelOffset,this.e.label(b[i]))}a.lineTo(k+Math.floor(g.cellWidth*[b.length-1]),d.y);a.lineTo(k,d.y);a.fill()}}};
dhtmlx.chart.stackedArea={pvt_render_stackedArea:function(a,b,c,d,e,f){var g=this.na(a,b,c,d,e),h=Math.floor(g.cellWidth/2),j=[];if(b.length){a.globalAlpha=this.e.alpha.call(this,b[0]);a.fillStyle=this.e.color.call(this,b[0]);var k=e?b[0].$startY:d.y,i=this.e.offset?c.x+g.cellWidth*0.5:c.x,n=this.O(b[0],c,d,g)-(e?d.y-k:0);j[0]=n;a.beginPath();a.moveTo(i,k);a.lineTo(i,n);f.addRect(b[0].id,[i-h,n-h,i+h,n+h]);this.e.yAxis||this.renderTextAt(false,true,i,n-this.e.labelOffset,this.e.label(b[0]));for(var o=
1;o<b.length;o++){var q=i+Math.floor(g.cellWidth*o)-0.5,v=this.O(b[o],c,d,g)-(e?d.y-b[o].$startY:0);j[o]=v;a.lineTo(q,v);f.addRect(b[o].id,[q-h,v-h,q+h,v+h]);this.e.yAxis||this.renderTextAt(false,true,q,v-this.e.labelOffset,this.e.label(b[o]))}a.lineTo(i+Math.floor(g.cellWidth*[b.length-1]),k);if(e)for(o=b.length-1;o>=0;o--){q=i+Math.floor(g.cellWidth*o)-0.5;var y=b[o].$startY;a.lineTo(q,y)}else a.lineTo(i+Math.floor(g.cellWidth*(length-1))-0.5,k);a.lineTo(i,k);a.fill();for(o=0;o<b.length;o++)b[o].$startY=
j[o]}}};
dhtmlx.chart.spline={pvt_render_spline:function(a,b,c,d,e){var f=this.na(a,b,c,d,e);Math.floor(f.cellWidth/2);var g=[];if(b.length){var h=this.e.offset?c.x+f.cellWidth*0.5:c.x;for(e=0;e<b.length;e++){var j=!e?h:Math.floor(f.cellWidth*e)-0.5+h,k=this.O(b[e],c,d,f);g.push({x:j,y:k})}var i=this.jc(g);for(e=0;e<g.length-1;e++){var n=g[e].x;c=g[e].y;var o=g[e+1].x,q=g[e+1].y;for(d=n;d<o;d++)this.r(a,d,this.Oa(d,n,e,i.a,i.b,i.c,i.d),d+1,this.Oa(d+1,n,e,i.a,i.b,i.c,i.d),this.e.line.color(b[e]),this.e.line.width);this.r(a,
o-1,this.Oa(d,n,e,i.a,i.b,i.c,i.d),o,q,this.e.line.color(b[e]),this.e.line.width);this.Ja(a,n,c,b[e],this.e.label(b[e]))}this.Ja(a,o,q,b[e],this.e.label(b[e]))}},jc:function(a){var b,c,d,e,f,g,h,j,k;b=[];m=[];k=a.length;for(var i=0;i<k-1;i++){b[i]=a[i+1].x-a[i].x;m[i]=(a[i+1].y-a[i].y)/b[i]}c=[];d=[];c[0]=0;c[1]=2*(b[0]+b[1]);d[0]=0;d[1]=6*(m[1]-m[0]);for(i=2;i<k-1;i++){c[i]=2*(b[i-1]+b[i])-b[i-1]*b[i-1]/c[i-1];d[i]=6*(m[i]-m[i-1])-b[i-1]*d[i-1]/c[i-1]}e=[];e[k-1]=e[0]=0;for(i=k-2;i>=1;i--)e[i]=(d[i]-
b[i]*e[i+1])/c[i];f=[];g=[];h=[];j=[];for(i=0;i<k-1;i++){f[i]=a[i].y;g[i]=-b[i]*e[i+1]/6-b[i]*e[i]/3+(a[i+1].y-a[i].y)/b[i];h[i]=e[i]/2;j[i]=(e[i+1]-e[i])/(6*b[i])}return{a:f,b:g,c:h,d:j}},Oa:function(a,b,c,d,e,f,g){return d[c]+(a-b)*(e[c]+(a-b)*(f[c]+(a-b)*g[c]))}};
dhtmlx.chart.barH={pvt_render_barH:function(a,b,c,d,e,f){var g,h,j,k,i=d.x-c.x,n=!!this.e.yAxis,o=this.Na("h");g=o.max;h=o.min;var q=Math.floor((d.y-c.y)/b.length);e||this.kb(a,b,c,d,h,g,q);if(n){g=parseFloat(this.e.xAxis.end);h=parseFloat(this.e.xAxis.start)}var v=this.fa(h,g);k=v[0];j=v[1];var y=k?i/k:10;if(!n){var s=10;y=k?(i-s)/k:10}var z=parseInt(this.e.width,10);if(z*this.o.length+4>q)z=q/this.o.length-4;var F=Math.floor((q-z*this.o.length)/2),A=typeof this.e.radius!="undefined"?parseInt(this.e.radius,
10):Math.round(z/5),D=false,t=this.e.gradient;if(t&&typeof t!="function"){D=t;t=false}else if(t){t=a.createLinearGradient(c.x,c.y,d.x,c.y);this.e.gradient(t)}n||this.r(a,c.x-0.5,c.y,c.x-0.5,d.y,"#000000",1);for(d=0;d<b.length;d++){var C=parseFloat(this.e.value(b[d]));if(C>g)C=g;C-=h;C*=j;var G=c.x,J=c.y+F+d*q+(z+1)*e;if(C<0&&this.e.origin=="auto"||this.e.xAxis&&C===0&&!(this.e.origin!="auto"&&this.e.origin>h))this.renderTextAt("middle","right",G+10,J+z/2+F,this.e.label(b[d]));else{if(C<0&&this.e.origin!=
"auto"&&this.e.origin>h)C=0;n||(C+=s/y);var R=t||this.e.color.call(this,b[d]);this.e.border&&this.Wb(a,G,J,z,h,A,y,C,R);a.globalAlpha=this.e.alpha.call(this,b[d]);var I=this.Vb(a,c,G,J,z,h,A,y,C,R,t,D);a.globalAlpha=1;D!=false&&this.Xb(a,G,J,z,h,A,y,C,R,D);if(I[3]==J){this.renderTextAt("middle","left",I[0]-5,I[3]+Math.floor(z/2),this.e.label(b[d]));f.addRect(b[d].id,[I[0],I[3],I[2],I[3]+z],e)}else{this.renderTextAt("middle",false,I[2]+5,I[1]+Math.floor(z/2),this.e.label(b[d]));f.addRect(b[d].id,[I[0],
J,I[2],I[3]],e)}}}},M:function(a,b,c,d,e,f,g,h){var j=0;if(e>f*g){var k=(e-f*g)/e;j=-Math.asin(k)+Math.PI/2}a.moveTo(b,c+h);var i=b+f*g-e-(e?0:h);e<f*g&&a.lineTo(i,c+h);f=c+e;e&&a.arc(i,f,e-h,-Math.PI/2+j,0,false);var n=c+d-e-(e?0:h),o=i+e-(e?h:0);a.lineTo(o,n);var q=i;e&&a.arc(q,n,e-h,0,Math.PI/2-j,false);var v=c+d-h;a.lineTo(b,v);a.lineTo(b,c+h);return[o,v]},kb:function(a,b,c,d,e,f,g){var h=this.Yb(a,b,c,d,e,f);this.Zb(a,b,c,d,g,h)},Zb:function(a,b,c,d,e,f){if(this.e.yAxis){var g=parseInt(f?f:c.x,
10)-0.5,h=d.y+0.5,j=c.y;this.r(a,g,h,g,j,this.e.yAxis.color,1);for(a=0;a<b.length;a++){var k=this.e.origin!="auto"&&this.e.view=="barH"&&parseFloat(this.e.value(b[a]))<this.e.origin;this.renderTextAt("middle",k?false:"left",k?g+5:g-5,j+e/2+a*e,this.e.yAxis.template(b[a]),"dhx_axis_item_y",k?0:g-10)}this.Db(c,d)}},Yb:function(a,b,c,d,e,f){var g,h={},j=this.e.xAxis;if(j){b=d.y+0.5;var k=c.x-0.5,i=d.x-0.5,n=c.x;this.r(a,k,b,i,b,j.color,1);if(j.step)g=parseFloat(j.step);if(typeof j.step=="undefined"||
typeof j.start=="undefined"||typeof j.end=="undefined"){h=this.eb(e,f);e=h.start;f=h.end;g=h.step;this.e.xAxis.end=f;this.e.xAxis.start=e;this.e.xAxis.step=g}if(g!==0){for(var o=(i-k)*g/(f-e),q=0,v=e;v<=f;v+=g){if(h.fixNum)v=parseFloat((new Number(v)).toFixed(h.fixNum));var y=Math.floor(k+q*o)+0.5;!(v==e&&this.e.origin=="auto")&&j.lines&&this.r(a,y,b,y,c.y,this.e.xAxis.color,0.2);if(v==this.e.origin)n=y+1;this.renderTextAt(false,true,y,b+2,j.template(v.toString()),"dhx_axis_item_x");q++}this.renderTextAt(true,
false,k,d.y+this.e.padding.bottom-3,this.e.xAxis.title,"dhx_axis_title_x",d.x-c.x);j.lines||this.r(a,k,c.y-0.5,i,c.y-0.5,this.e.xAxis.color,0.2);return n}}},Fa:function(a,b,c,d,e,f,g){var h=this.e.yAxis,j=b;if(h&&this.e.origin!="auto"&&this.e.origin>g){b+=(this.e.origin-g)*e;j=b;d-=this.e.origin-g;if(d<0){d*=-1;a.translate(b,c+f);a.rotate(Math.PI);b=0.5;c=0}b+=0.5}return{value:d,x0:b,y0:c,start:j}},Vb:function(a,b,c,d,e,f,g,h,j,k,i,n){a.save();var o=this.Fa(a,c,d,j,h,e,f);a.fillStyle=k;a.beginPath();
c=this.M(a,o.x0,o.y0,e,g,h,o.value,this.e.border?1:0);if(i&&!n)a.lineTo(b.x+total_width,o.y0+(this.e.border?1:0));a.fill();a.restore();a=o.y0;b=o.y0!=d?d:c[1];i=o.y0!=d?o.start-c[0]:o.start;d=o.y0!=d?o.start:c[0];return[i,a,d,b]},Wb:function(a,b,c,d,e,f,g,h,j){a.save();c=this.Fa(a,b,c,h,g,d,e);a.beginPath();a.fillStyle=j;this.M(a,c.x0,c.y0,d,f,g,c.value,0);a.lineTo(b,0);a.fill();a.fillStyle="#000000";a.globalAlpha=0.37;a.beginPath();this.M(a,c.x0,c.y0,d,f,g,c.value,0);a.fill();a.restore()},Xb:function(a,
b,c,d,e,f,g,h,j,k){a.save();b=this.Fa(a,b,c,h,g,d,e);var i=this.xa(a,b.x0,b.y0+d,b.x0+g*b.value,b.y0,k,j,"x");a.fillStyle=i.gradient;a.beginPath();this.M(a,b.x0,b.y0+i.offset,d-i.offset*2,f,g,b.value,i.offset);a.fill();a.globalAlpha=1;a.restore()}};
dhtmlx.chart.stackedBarH={pvt_render_stackedBarH:function(a,b,c,d,e,f){var g,h,j,k,i=d.x-c.x,n=!!this.e.yAxis;h=this.Pa(b);g=h.max;h=h.min;var o=Math.floor((d.y-c.y)/b.length);e||this.kb(a,b,c,d,h,g,o);if(n){g=parseFloat(this.e.xAxis.end);h=parseFloat(this.e.xAxis.start)}j=this.fa(h,g);k=j[0];j=j[1];var q=k?i/k:10;if(!n){var v=10;q=k?(i-v)/k:10}k=parseInt(this.e.width,10);if(k+4>o)k=o-4;var y=Math.floor((o-k)/2),s=0,z=false,F=this.e.gradient;z=false;if(F=this.e.gradient)z=true;n||this.r(a,c.x-0.5,
c.y,c.x-0.5,d.y,"#000000",1);for(d=0;d<b.length;d++){if(!e)b[d].$startX=c.x;var A=parseFloat(this.e.value(b[d]));if(A>g)A=g;A-=h;A*=j;var D=c.x,t=c.y+y+d*o;if(e)D=b[d].$startX;if(A<0||this.e.yAxis&&A===0)this.renderTextAt("middle",true,D+10,t+k/2,this.e.label(b[d]));else{n||(A+=v/q);var C=this.e.color.call(this,b[d]);if(this.e.border){a.beginPath();a.fillStyle=C;this.M(a,D,t,k,s,q,A,0);a.lineTo(D,0);a.fill();a.fillStyle="#000000";a.globalAlpha=0.37;a.beginPath();this.M(a,D,t,k,s,q,A,0);a.fill()}a.globalAlpha=
1;a.globalAlpha=this.e.alpha.call(this,b[d]);a.fillStyle=this.e.color.call(this,b[d]);a.beginPath();var G=this.M(a,D,t,k,s,q,A,this.e.border?1:0);if(F&&!z)a.lineTo(c.x+i,t+(this.e.border?1:0));a.fill();if(z!=false){C=this.xa(a,D,t+k,D,t,z,C,"x");a.fillStyle=C.gradient;a.beginPath();G=this.M(a,D,t,k,s,q,A,0);a.fill();a.globalAlpha=1}this.renderTextAt("middle",true,b[d].$startX+(G[0]-b[d].$startX)/2-1,t+(G[1]-t)/2,this.e.label(b[d]));f.addRect(b[d].id,[b[d].$startX,t,G[0],G[1]],e);b[d].$startX=G[0]}}}};
dhtmlx.chart.stackedBar={pvt_render_stackedBar:function(a,b,c,d,e,f){var g,h,j,k=d.y-c.y;j=!!this.e.yAxis;var i=!!this.e.xAxis;h=this.Pa(b);g=h.max;h=h.min;var n=Math.floor((d.x-c.x)/b.length);e||this.Ka(a,b,c,d,h,g,n);if(j){g=parseFloat(this.e.yAxis.end);h=parseFloat(this.e.yAxis.start)}g=this.fa(h,g);j=g[0];g=g[1];j=j?k/j:10;var o=parseInt(this.e.width,10);if(o+4>n)o=n-4;var q=Math.floor((n-o)/2),v=this.e.gradient?this.e.gradient:false;i||this.r(a,c.x,d.y+0.5,d.x,d.y+0.5,"#000000",1);for(i=0;i<
b.length;i++){var y=parseFloat(this.e.value(b[i]));if(y){e||(y-=h);y*=g;var s=c.x+q+i*n,z=d.y;if(e)z=b[i].$startY;if(!(z<c.y+1))if(y<0||this.e.yAxis&&y===0)this.renderTextAt(true,true,s+Math.floor(o/2),z,this.e.label(b[i]));else{var F=this.e.color.call(this,b[i]);if(this.e.border){a.beginPath();a.fillStyle=F;this.za(a,s-1,z,o+2,j,y,0,c.y);a.lineTo(s,z);a.fill();a.fillStyle="#000000";a.globalAlpha=0.37;a.beginPath();this.za(a,s-1,z,o+2,j,y,0,c.y);a.fill()}a.globalAlpha=this.e.alpha.call(this,b[i]);
a.fillStyle=this.e.color.call(this,b[i]);a.beginPath();var A=this.za(a,s,z,o,j,y,this.e.border?1:0,c.y);a.fill();a.globalAlpha=1;if(v){F=this.xa(a,s,z,s+o,A[1],v,F,"y");a.fillStyle=F.gradient;a.beginPath();A=this.za(a,s+F.offset,z,o-F.offset*2,j,y,this.e.border?1:0,c.y);a.fill();a.globalAlpha=1}this.renderTextAt(false,true,s+Math.floor(o/2),A[1]+(z-A[1])/2-7,this.e.label(b[i]));f.addRect(b[i].id,[s,A[1],A[0],b[i].$startY||z],e);b[i].$startY=this.e.border?A[1]+1:A[1]}}}},za:function(a,b,c,d,e,f,g,
h){a.moveTo(b,c);f=c-e*f+g;if(f<h)f=h;a.lineTo(b,f);e=b+d;f=f;a.lineTo(e,f);var j=b+d;a.lineTo(j,c);a.lineTo(b,c);return[j,f-2*g]}};
dhtmlx.chart.line={pvt_render_line:function(a,b,c,d,e,f){var g=this.na(a,b,c,d,e),h=this.e.eventRadius||Math.floor(g.cellWidth/2);if(b.length)for(var j=this.O(b[0],c,d,g),k=this.e.offset?c.x+g.cellWidth*0.5:c.x,i=k,n=1;n<=b.length;n++){var o=Math.floor(g.cellWidth*n)-0.5+i;if(b.length!=n){var q=this.O(b[n],c,d,g);this.r(a,k,j,o,q,this.e.line.color(b[n-1]),this.e.line.width)}this.Ja(a,k,j,b[n-1],!!this.e.offset);f.addRect(b[n-1].id,[k-h,j-h,k+h,j+h],e);j=q;k=o}},Ja:function(a,b,c,d,e){var f=parseInt(this.e.item.radius,
10);a.lineWidth=parseInt(this.e.item.borderWidth,10);a.fillStyle=this.e.item.color(d);a.strokeStyle=this.e.item.borderColor(d);a.beginPath();a.arc(b,c,f,0,Math.PI*2,true);a.fill();a.stroke();e&&this.renderTextAt(false,true,b,c-f-this.e.labelOffset,this.e.label(d))},O:function(a,b,c,d){var e=d.minValue,f=d.maxValue,g=d.unit,h=d.valueFactor;a=this.e.value(a);h=(parseFloat(a)-e)*h;this.e.yAxis||(h+=d.startValue/g);d=c.y-Math.floor(g*h);if(h<0)d=c.y;if(a>f)d=b.y;if(a<e)d=c.y;return d},na:function(a,b,
c,d,e){var f={};f.totalHeight=d.y-c.y;f.cellWidth=Math.round((d.x-c.x)/(!this.e.offset?b.length-1:b.length));var g=!!this.e.yAxis,h=this.e.view.indexOf("stacked")!=-1?this.Pa(b):this.Na();f.maxValue=h.max;f.minValue=h.min;e||this.Ka(a,b,c,d,f.minValue,f.maxValue,f.cellWidth);if(g){f.maxValue=parseFloat(this.e.yAxis.end);f.minValue=parseFloat(this.e.yAxis.start)}b=this.fa(f.minValue,f.maxValue);a=b[0];f.valueFactor=b[1];f.unit=a?f.totalHeight/a:10;f.startValue=0;if(!g){f.startValue=f.unit>10?f.unit:
10;f.unit=a?(f.totalHeight-f.startValue)/a:10}return f}};
dhtmlx.chart.bar={pvt_render_bar:function(a,b,c,d,e,f){var g,h,j,k,i=d.y-c.y,n=!!this.e.yAxis,o=!!this.e.xAxis;h=this.Na();g=h.max;h=h.min;var q=Math.floor((d.x-c.x)/b.length);!e&&!(this.e.origin!="auto"&&!n)&&this.Ka(a,b,c,d,h,g,q);if(n){g=parseFloat(this.e.yAxis.end);h=parseFloat(this.e.yAxis.start)}j=this.fa(h,g);k=j[0];j=j[1];var v=k?i/k:k;if(!n&&!(this.e.origin!="auto"&&o)){var y=10;v=k?(i-y)/k:y}!e&&this.e.origin!="auto"&&!n&&this.e.origin>h&&this.ob(a,b,c,d,q,d.y-v*(this.e.origin-h));i=parseInt(this.e.width,
10);if(this.o&&i*this.o.length+4>q)i=q/this.o.length-4;k=Math.floor((q-i*this.o.length)/2);var s=typeof this.e.radius!="undefined"?parseInt(this.e.radius,10):Math.round(i/5),z=false,F=this.e.gradient;if(F&&typeof F!="function"){z=F;F=false}else if(F){F=a.createLinearGradient(0,d.y,0,c.y);this.e.gradient(F)}o||this.r(a,c.x,d.y+0.5,d.x,d.y+0.5,"#000000",1);for(var A=0;A<b.length;A++){var D=parseFloat(this.e.value(b[A]));if(D>g)D=g;D-=h;D*=j;var t=c.x+k+A*q+(i+1)*e,C=d.y;if(D<0||this.e.yAxis&&D===0&&
!(this.e.origin!="auto"&&this.e.origin>h))this.renderTextAt(true,true,t+Math.floor(i/2),C,this.e.label(b[A]));else{if(!n&&!(this.e.origin!="auto"&&o))D+=y/v;var G=F||this.e.color.call(this,b[A]);this.e.border&&this.Tb(a,t,C,i,h,s,v,D,G);a.globalAlpha=this.e.alpha.call(this,b[A]);var J=this.Sb(a,c,t,C,i,h,s,v,D,G,F,z);a.globalAlpha=1;z&&this.Ub(a,t,C,i,h,s,v,D,G,z);J[0]!=t?this.renderTextAt(false,true,t+Math.floor(i/2),J[1],this.e.label(b[A])):this.renderTextAt(true,true,t+Math.floor(i/2),J[3],this.e.label(b[A]));
f.addRect(b[A].id,[t,J[3],J[2],J[1]],e)}}},Ga:function(a,b,c,d,e,f,g){var h=this.e.xAxis,j=c;if(h&&this.e.origin!="auto"&&this.e.origin>g){c-=(this.e.origin-g)*e;j=c;d-=this.e.origin-g;if(d<0){d*=-1;a.translate(b+f,c);a.rotate(Math.PI);c=b=0}c-=0.5}return{value:d,x0:b,y0:c,start:j}},Sb:function(a,b,c,d,e,f,g,h,j,k,i,n){a.save();a.fillStyle=k;f=this.Ga(a,c,d,j,h,e,f);e=this.ya(a,f.x0,f.y0,e,g,h,f.value,this.e.border?1:0);if(i&&!n)a.lineTo(f.x0+(this.e.border?1:0),b.y);a.fill();a.restore();a=f.x0;b=
f.x0!=c?c+e[0]:e[0];d=f.x0!=c?f.start-e[1]:d;c=f.x0!=c?f.start:e[1];return[a,d,b,c]},Tb:function(a,b,c,d,e,f,g,h,j){a.save();b=this.Ga(a,b,c,h,g,d,e);a.fillStyle=j;this.ya(a,b.x0,b.y0,d,f,g,b.value,0);a.lineTo(b.x0,0);a.fill();a.fillStyle="#000000";a.globalAlpha=0.37;this.ya(a,b.x0,b.y0,d,f,g,b.value,0);a.fill();a.restore()},Ub:function(a,b,c,d,e,f,g,h,j,k){a.save();b=this.Ga(a,b,c,h,g,d,e);j=this.xa(a,b.x0,b.y0,b.x0+d,b.y0-g*b.value+2,k,j,"y");a.fillStyle=j.gradient;this.ya(a,b.x0+j.offset,b.y0,
d-j.offset*2,f,g,b.value,j.offset);a.fill();a.restore()},ya:function(a,b,c,d,e,f,g,h){a.beginPath();var j=0;if(e>f*g){var k=(e-f*g)/e;j=-Math.acos(k)+Math.PI/2}a.moveTo(b+h,c);var i=c-Math.floor(f*g)+e+(e?0:h);e<f*g&&a.lineTo(b+h,i);f=b+e;e&&a.arc(f,i,e-h,-Math.PI+j,-Math.PI/2,false);g=b+d-e-(e?0:h);f=i-e+(e?h:0);a.lineTo(g,f);i=i;e&&a.arc(g,i,e-h,-Math.PI/2,0-j,false);d=b+d-h;a.lineTo(d,c);a.lineTo(b+h,c);return[d,f]}};
dhtmlx.chart.pie={pvt_render_pie:function(a,b,c,d,e,f){this.Bb(a,b,c,d,1,f)},Bb:function(a,b,c,d,e,f){if(b.length){var g=0,h=this.ic(c,d);c=this.e.radius?this.e.radius:h.radius;this.max(this.e.value);for(var j=[],k=[],i=0,n=0;n<b.length;n++)g+=parseFloat(this.e.value(b[n]));for(n=0;n<b.length;n++){k[n]=parseFloat(this.e.value(b[n]));j[n]=Math.PI*2*(g?(k[n]+i)/g:1/b.length);i+=k[n]}d=this.e.x?this.e.x:h.x;var o=this.e.y?this.e.y:h.y;e==1&&this.e.shadow&&this.Jb(a,d,o,c);o/=e;var q=-Math.PI/2;a.scale(1,
e);for(n=0;n<b.length;n++)if(k[n]){a.lineWidth=2;a.beginPath();a.moveTo(d,o);alpha1=-Math.PI/2+j[n]-1.0E-4;a.arc(d,o,c,q,alpha1,false);a.lineTo(d,o);var v=this.e.color.call(this,b[n]);a.fillStyle=v;a.strokeStyle=this.e.lineColor(b[n]);a.stroke();a.fill();this.e.pieInnerText&&this.mb(d,o,5*c/6,q,alpha1,e,this.e.pieInnerText(b[n],g),true);this.e.label&&this.mb(d,o,c+this.e.labelOffset,q,alpha1,e,this.e.label(b[n]));if(e!=1){this.gb(a,d,o,q,alpha1,c,true);a.fillStyle="#000000";a.globalAlpha=0.2;this.gb(a,
d,o,q,alpha1,c,false);a.globalAlpha=1;a.fillStyle=v}f.addSector(b[n].id,q,alpha1,d,o,c,e);q=alpha1}if(this.e.gradient){b=e!=1?d+c/3:d;f=e!=1?o+c/3:o;this.Ic(a,d,o,c,b,f)}a.scale(1,1/e)}},ic:function(a,b){var c=b.x-a.x,d=b.y-a.y;b=a.x+c/2;a=a.y+d/2;c=Math.min(c/2,d/2);return{x:b,y:a,radius:c}},gb:function(a,b,c,d,e,f,g){a.lineWidth=1;if(d<=0&&e>=0||d>=0&&e<=Math.PI||d<=Math.PI&&e>=Math.PI){if(d<=0&&e>=0){d=0;g=false;this.nb(a,b,c,f,d,e)}if(d<=Math.PI&&e>=Math.PI){e=Math.PI;g=false;this.nb(a,b,c,f,
d,e)}var h=(this.e.height||Math.floor(f/4))/this.e.cant;a.beginPath();a.arc(b,c,f,d,e,false);a.lineTo(b+f*Math.cos(e),c+f*Math.sin(e)+h);a.arc(b,c+h,f,e,d,true);a.lineTo(b+f*Math.cos(d),c+f*Math.sin(d));a.fill();g&&a.stroke()}},nb:function(a,b,c,d,e,f){a.beginPath();a.arc(b,c,d,e,f,false);a.stroke()},Jb:function(a,b,c,d){for(var e=["#676767","#7b7b7b","#a0a0a0","#bcbcbc","#d1d1d1","#d6d6d6"],f=e.length-1;f>-1;f--){a.beginPath();a.fillStyle=e[f];a.arc(b+2,c+2,d+f,0,Math.PI*2,true);a.fill()}},hc:function(a){a.addColorStop(0,
"#ffffff");a.addColorStop(0.7,"#7a7a7a");a.addColorStop(1,"#000000");return a},Ic:function(a,b,c,d,e,f){a.globalAlpha=0.3;a.beginPath();var g;if(typeof this.e.gradient!="function"){g=a.createRadialGradient(e,f,d/4,b,c,d);g=this.hc(g)}else g=this.e.gradient(g);a.fillStyle=g;a.arc(b,c,d,0,Math.PI*2,true);a.fill();a.globalAlpha=1},mb:function(a,b,c,d,e,f,g,h){if(g=this.renderText(0,0,g,0,1)){var j=g.scrollWidth;g.style.width=j+"px";if(j>a)j=a;var k=8;if(h)k=j/1.8;var i=d+(e-d)/2;c-=(k-8)/2;var n=-k,
o=-8,q="left";if(i>=Math.PI/2&&i<Math.PI){n=-j-n+1;q="right"}if(i<=3*Math.PI/2&&i>=Math.PI){n=-j-n+1;q="right"}d=(b+Math.floor(c*Math.sin(i)))*f+o;k=a+Math.floor((c+k/2)*Math.cos(i))+n;var v=e<Math.PI/2+0.01,y=i<Math.PI/2;if(y&&v)k=Math.max(k,a+3);else if(!y&&!v)k=Math.min(k,a-j);if(!h&&f<1&&d>b*f)d+=this.e.height||Math.floor(c/4);g.style.top=d+"px";g.style.left=k+"px";g.style.width=j+"px";g.style.textAlign=q;g.style.whiteSpace="nowrap"}}};
dhtmlx.chart.pie3D={pvt_render_pie3D:function(a,b,c,d,e,f){this.Bb(a,b,c,d,this.e.cant,f)}};
dhtmlx.Group={h:function(){this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(){this.e.group&&this.group(this.e.group,false)},this));this.attachEvent("onBeforeRender",dhtmlx.bind(function(a){if(this.e.sort){a.block();a.sort(this.e.sort);a.unblock()}},this));this.attachEvent("onBeforeSort",dhtmlx.bind(function(){this.e.sort=null},this))},mc:function(a,b){a.attachEvent("onClearAll",dhtmlx.bind(function(){this.ungroup(false)},b))},sum:function(a,b){a=dhtmlx.Template.setter(a);b=b||this.data;var c=
0;b.each(function(d){c+=a(d)*1});return c},min:function(a,b){a=dhtmlx.Template.setter(a);b=b||this.data;var c=Infinity;b.each(function(d){if(a(d)*1<c)c=a(d)*1});return c*1},max:function(a,b){a=dhtmlx.Template.setter(a);b=b||this.data;var c=-Infinity;b.each(function(d){if(a(d)*1>c)c=a(d)*1});return c},Jc:function(a){var b=function(j,k){j=dhtmlx.Template.setter(j);return j(k[0])},c=dhtmlx.Template.setter(a.by);a.map[c]||(a.map[c]=[c,b]);var d={},e=[];this.data.each(function(j){var k=c(j);if(!d[k]){e.push({id:k});
d[k]=dhtmlx.toArray()}d[k].push(j)});for(var f in a.map){var g=a.map[f][1]||b;if(typeof g!="function")g=this[g];for(var h=0;h<e.length;h++)e[h][f]=g.call(this,a.map[f][0],d[e[h].id])}this.zb=this.data;this.data=new dhtmlx.DataStore;this.data.provideApi(this,true);this.mc(this.data,this);this.parse(e,"json")},group:function(a,b){this.ungroup(false);this.Jc(a);b!==false&&this.render()},ungroup:function(a){if(this.zb){this.data=this.zb;this.data.provideApi(this,true)}a!==false&&this.render()},group_setter:function(a){return a},
sort_setter:function(a){if(typeof a!="object")a={by:a};this.H(a,{as:"string",dir:"asc"});return a}};dhtmlx.DataDriver.dhtmlxgrid={kc:"_get_cell_value",toObject:function(a){return this.rb=a},getRecords:function(a){return a.rowsBuffer},getDetails:function(a){for(var b={},c=0;c<this.rb.getColumnsNum();c++)b["data"+c]=this.rb[this.kc](a,c);return b},getInfo:function(){return{u:0,q:0}}};
dhtmlx.Canvas={h:function(){this.oa=[]},Ac:function(a){this.v=dhtmlx.html.create("canvas",{width:a.offsetWidth,height:a.offsetHeight});a.appendChild(this.v);if(!this.v.getContext)if(dhtmlx.P){dhtmlx.require("thirdparty/excanvas/excanvas.js");G_vmlCanvasManager.init_(document);G_vmlCanvasManager.initElement(this.v)}return this.v},getCanvas:function(a){return(this.v||this.Ac(this.g)).getContext(a||"2d")},Fc:function(){if(this.v){this.v.setAttribute("width",this.v.parentNode.offsetWidth);this.v.setAttribute("height",
this.v.parentNode.offsetHeight)}},renderText:function(a,b,c,d,e){if(c){a=dhtmlx.html.create("DIV",{"class":"dhx_canvas_text"+(d?" "+d:""),style:"left:"+a+"px; top:"+b+"px;"},c);this.g.appendChild(a);this.oa.push(a);if(e)a.style.width=e+"px";return a}},renderTextAt:function(a,b,c,d,e,f,g){if(e=this.renderText.call(this,c,d,e,f,g)){if(a)e.style.top=a=="middle"?parseInt(d-e.offsetHeight/2,10)+"px":d-e.offsetHeight+"px";if(b)e.style.left=b=="left"?c-e.offsetWidth+"px":parseInt(c-e.offsetWidth/2,10)+"px"}return e},
clearCanvas:function(){for(var a=0;a<this.oa.length;a++)this.g.removeChild(this.oa[a]);this.oa=[];if(this.g.p){this.g.p.parentNode.removeChild(this.g.p);this.g.p=null}this.getCanvas().clearRect(0,0,this.v.offsetWidth,this.v.offsetHeight)}};
dhtmlXChart=function(a){this.name="Chart";this.version="3.0";dhtmlx.extend(this,dhtmlx.Settings);this.Va(a,"dhx_chart");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);this.data.provideApi(this,true);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.Destruction);dhtmlx.extend(this,dhtmlx.Canvas);dhtmlx.extend(this,dhtmlx.Group);dhtmlx.extend(this,dhtmlx.AutoTooltip);for(var b in dhtmlx.chart)dhtmlx.extend(this,dhtmlx.chart[b]);
this.I(a,{color:"RAINBOW",alpha:"1",label:false,value:"{obj.value}",padding:{},view:"pie",lineColor:"#ffffff",cant:0.5,width:15,labelWidth:100,line:{},item:{},shadow:true,gradient:false,border:true,labelOffset:20,origin:"auto"});this.o=[this.e];this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render()},this));this.attachEvent("onLocateData",this.Kc)};
dhtmlXChart.prototype={A:"dhx_area_id",on_click:{},on_dblclick:{},on_mouse_move:{},bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},resize:function(){this.Fc();this.render()},view_setter:function(a){if(typeof this.e.offset=="undefined")this.e.offset=a=="area"||a=="stackedArea"?false:true;return a},render:function(){if(this.callEvent("onBeforeRender",[this.data])){this.clearCanvas();this.e.legend&&this.$b(this.getCanvas(),
this.data.getRange(),this.g.offsetWidth,this.g.offsetHeight);for(var a=this.gc(this.g.offsetWidth,this.g.offsetHeight),b=new dhtmlx.ui.Map(this.A),c=this.e,d=0;d<this.o.length;d++){this.e=this.o[d];this["pvt_render_"+this.e.view](this.getCanvas(),this.data.getRange(),a.start,a.end,d,b)}b.render(this.g);this.e=c}},value_setter:dhtmlx.Template.obj_setter,alpha_setter:dhtmlx.Template.obj_setter,label_setter:dhtmlx.Template.obj_setter,lineColor_setter:dhtmlx.Template.obj_setter,pieInnerText_setter:dhtmlx.Template.obj_setter,
gradient_setter:function(a){if(typeof a!="function"&&a&&(a===true||a!="3d"))a="light";return a},colormap:{RAINBOW:function(a){a=Math.floor(this.indexById(a.id)/this.dataCount()*1536);if(a==1536)a-=1;return this.Bc[Math.floor(a/256)](a%256)}},color_setter:function(a){return this.colormap[a]||dhtmlx.Template.obj_setter(a)},legend_setter:function(a){if(!a){if(this.legendObj){this.legendObj.innerHTML="";this.legendObj=null}return false}if(typeof a!="object")a={template:a};this.H(a,{width:150,height:18,
layout:"y",align:"left",valign:"bottom",template:"",marker:{type:"square",width:25,height:15}});a.template=dhtmlx.Template.setter(a.template);return a},item_setter:function(a){if(typeof a!="object")a={color:a,borderColor:a};this.H(a,{radius:4,color:"#000000",borderColor:"#000000",borderWidth:2});a.color=dhtmlx.Template.setter(a.color);a.borderColor=dhtmlx.Template.setter(a.borderColor);return a},line_setter:function(a){if(typeof a!="object")a={color:a};this.H(a,{width:3,color:"#d4d4d4"});a.color=
dhtmlx.Template.setter(a.color);return a},padding_setter:function(a){if(typeof a!="object")a={left:a,right:a,top:a,bottom:a};this.H(a,{left:50,right:20,top:35,bottom:40});return a},xAxis_setter:function(a){if(!a)return false;if(typeof a!="object")a={template:a};this.H(a,{title:"",color:"#000000",template:"{obj}",lines:false});if(a.template)a.template=dhtmlx.Template.setter(a.template);return a},yAxis_setter:function(a){this.H(a,{title:"",color:"#000000",template:"{obj}",lines:true});if(a.template)a.template=
dhtmlx.Template.setter(a.template);return a},Ka:function(a,b,c,d,e,f,g){e=this.dc(a,b,c,d,e,f);this.ob(a,b,c,d,g,e);return e},ob:function(a,b,c,d,e,f){if(this.e.xAxis){var g=c.x-0.5;f=parseInt(f?f:d.y,10)+0.5;var h=d.x,j,k=true;this.r(a,g,f,h,f,this.e.xAxis.color,1);for(var i=0;i<b.length;i++){if(this.e.offset===true)j=g+e/2+i*e;else{j=g+i*e;k=!!i}var n=this.e.origin!="auto"&&this.e.view=="bar"&&parseFloat(this.e.value(b[i]))<this.e.origin;this.bc(j,f,b[i],k,n);this.e.view_setter!="bar"&&this.cc(a,
j,d.y,c.y)}this.renderTextAt(true,false,g,d.y+this.e.padding.bottom-3,this.e.xAxis.title,"dhx_axis_title_x",d.x-c.x);this.e.xAxis.lines&&this.e.offset&&this.r(a,h+0.5,d.y,h+0.5,c.y+0.5,this.e.xAxis.color,0.2)}},dc:function(a,b,c,d,e,f){var g;b={};if(this.e.yAxis){var h=c.x-0.5,j=d.y,k=c.y,i=d.y;this.r(a,h,j,h,k,this.e.yAxis.color,1);if(this.e.yAxis.step)g=parseFloat(this.e.yAxis.step);if(typeof this.e.yAxis.step=="undefined"||typeof this.e.yAxis.start=="undefined"||typeof this.e.yAxis.end=="undefined"){b=
this.eb(e,f);e=b.start;f=b.end;g=b.step;this.e.yAxis.end=f;this.e.yAxis.start=e}this.Db(c,d);if(g!==0){if(f==e)return j;k=(j-k)*g/(f-e);for(var n=0,o=e;o<=f;o+=g){if(b.fixNum)o=parseFloat((new Number(o)).toFixed(b.fixNum));var q=Math.floor(j-n*k)+0.5;!(o==e&&this.e.origin=="auto")&&this.e.yAxis.lines&&this.r(a,h,q,d.x,q,this.e.yAxis.color,0.2);if(o==this.e.origin)i=q;var v=o;if(g<1){var y=Math.min(this.ta(g),e===0?0:this.ta(e)),s=Math.pow(10,-y);v=Math.round(o*s)/s}this.renderText(0,q-5,this.e.yAxis.template(v.toString()),
"dhx_axis_item_y",c.x-5);n++}return i}}},Db:function(a,b){if(a=this.renderTextAt("middle",false,0,parseInt((b.y-a.y)/2+a.y,10),this.e.yAxis.title,"dhx_axis_title_y"))a.style.left=(dhtmlx.env.transform?(a.offsetHeight-a.offsetWidth)/2:0)+"px"},eb:function(a,b){if(this.e.origin!="auto"&&this.e.origin<a)a=this.e.origin;var c,d,e;c=(b-a)/8||1;var f=Math.floor(this.ta(c)),g=Math.pow(10,f),h=c/g;h=h>5?10:5;c=parseInt(h,10)*g;if(c>Math.abs(a))d=a<0?-c:0;else{var j=Math.abs(a),k=Math.floor(this.ta(j)),i=
j/Math.pow(10,k);d=Math.ceil(i*10)/10*Math.pow(10,k)-c;if(a<0)d=-d-2*c}for(e=d;e<b;){e+=c;e=parseFloat((new Number(e)).toFixed(Math.abs(f)))}return{start:d,end:e,step:c,fixNum:Math.abs(f)}},Na:function(a){var b,c;if((c=arguments.length&&a=="h"?this.e.xAxis:this.e.yAxis)&&typeof c.end!="undefined"&&typeof c.start!="undefined"&&c.step){b=parseFloat(c.end);c=parseFloat(c.start)}else{b=this.max(this.o[0].value);c=this.min(this.o[0].value);if(this.o.length>1)for(var d=1;d<this.o.length;d++){var e=this.max(this.o[d].value),
f=this.min(this.o[d].value);if(e>b)b=e;if(f<c)c=f}}return{max:b,min:c}},ta:function(a){var b="log";return Math.floor(Math[b](a)/Math.LN10)},bc:function(a,b,c,d,e){if(this.e.xAxis){a=this.renderTextAt(e,d,a,b,this.e.xAxis.template(c));a.className+=" dhx_axis_item_x"}},cc:function(a,b,c,d){this.e.xAxis&&this.e.xAxis.lines&&this.r(a,b,c,b,d,this.e.xAxis.color,0.2)},r:function(a,b,c,d,e,f,g){a.strokeStyle=f;a.lineWidth=g;a.beginPath();a.moveTo(b,c);a.lineTo(d,e);a.stroke()},fa:function(a,b){var c=1;if(b!=
a){a=b-a;if(Math.abs(a)<1)for(;Math.abs(a)<1;){c*=10;a*=c}}else a=a;return[a,c]},Bc:[function(a){return"#FF"+dhtmlx.math.toHex(a/2,2)+"00"},function(a){return"#FF"+dhtmlx.math.toHex(a/2+128,2)+"00"},function(a){return"#"+dhtmlx.math.toHex(255-a,2)+"FF00"},function(a){return"#00FF"+dhtmlx.math.toHex(a,2)},function(a){return"#00"+dhtmlx.math.toHex(255-a,2)+"FF"},function(a){return"#"+dhtmlx.math.toHex(a,2)+"00FF"}],addSeries:function(a){var b=this.e;this.e=dhtmlx.extend({},b);this.I(a,{});this.o.push(this.e);
this.e=b},Kc:function(a,b){this.cb=b.getAttribute("userdata");if(this.o[this.cb]){for(a=0;a<this.o.length;a++){var c=this.o[a].tooltip;c&&c.disable()}(c=this.o[this.cb].tooltip)&&c.enable()}},$b:function(a,b){var c=0,d=0,e=this.e.legend,f,g,h=this.e.legend.layout!="x"?"width:"+e.width+"px":"";if(this.legendObj)this.legendObj.innerHTML="";var j=dhtmlx.html.create("DIV",{"class":"dhx_chart_legend",style:"left:"+c+"px; top:"+d+"px;"+h},"");this.legendObj=j;this.g.appendChild(j);var k=[];if(e.values)for(h=
0;h<e.values.length;h++)k.push(this.lb(j,e.values[h].text));else for(h=0;h<b.length;h++)k.push(this.lb(j,e.template(b[h])));g=j.offsetWidth;f=j.offsetHeight;this.e.legend.width=g;this.e.legend.height=f;if(g<this.g.offsetWidth){if(e.layout=="x"&&e.align=="center")c=(this.g.offsetWidth-g)/2;if(e.align=="right")c=this.g.offsetWidth-g}if(f<this.g.offsetHeight)if(e.valign=="middle"&&e.align!="center"&&e.layout!="x")d=(this.g.offsetHeight-f)/2;else if(e.valign=="bottom")d=this.g.offsetHeight-f;j.style.left=
c+"px";j.style.top=d+"px";for(h=0;h<k.length;h++){var i=k[h],n=e.values?e.values[h].color:this.e.color.call(this,b[h]);this.ac(a,i.offsetLeft+c,i.offsetTop+d,n)}k=null},lb:function(a,b){var c="";if(this.e.legend.layout=="x")c="float:left;";b=dhtmlx.html.create("DIV",{style:c+"padding-left:"+(10+this.e.legend.marker.width)+"px","class":"dhx_chart_legend_item"},b);a.appendChild(b);return b},ac:function(a,b,c,d){var e=this.e.legend;a.strokeStyle=a.fillStyle=d;a.lineWidth=e.marker.height;a.lineCap=e.marker.type;
a.beginPath();b+=a.lineWidth/2+5;c+=a.lineWidth/2+3;a.moveTo(b,c);b=b+e.marker.width-e.marker.height+1;a.lineTo(b,c);a.stroke()},gc:function(a,b){var c,d,e,f;c=this.e.padding.left;d=this.e.padding.top;e=a-this.e.padding.right;f=b-this.e.padding.bottom;if(this.e.legend){a=this.e.legend;b=this.e.legend.width;var g=this.e.legend.height;if(a.layout=="x")if(a.valign=="center")if(a.align=="right")e-=b;else{if(a.align=="left")c+=b}else if(a.valign=="bottom")f-=g;else d+=g;else if(a.align=="right")e-=b;else if(a.align==
"left")c+=b}return{start:{x:c,y:d},end:{x:e,y:f}}},Pa:function(a){var b,c;if(this.e.yAxis&&typeof this.e.yAxis.end!="undefied"&&typeof this.e.yAxis.start!="undefied"&&this.e.yAxis.step){b=parseFloat(this.e.yAxis.end);c=parseFloat(this.e.yAxis.start)}else{for(var d=0;d<a.length;d++){a[d].$sum=0;a[d].$min=Infinity;for(b=0;b<this.o.length;b++){c=parseFloat(this.o[b].value(a[d]));if(!isNaN(c)){a[d].$sum+=c;if(c<a[d].$min)a[d].$min=c}}}b=-Infinity;c=Infinity;for(d=0;d<a.length;d++){if(a[d].$sum>b)b=a[d].$sum;
if(a[d].$min<c)c=a[d].$min}if(c>0)c=0}return{max:b,min:c}},xa:function(a,b,c,d,e,f,g,h){if(f=="light"){a=h=="x"?a.createLinearGradient(b,c,d,c):a.createLinearGradient(b,c,b,e);a.addColorStop(0,"#FFFFFF");a.addColorStop(0.9,g);a.addColorStop(1,g);g=2}else{a.globalAlpha=0.37;g=0;a=h=="x"?a.createLinearGradient(b,e,b,c):a.createLinearGradient(b,c,d,c);a.addColorStop(0,"#000000");a.addColorStop(0.5,"#FFFFFF");a.addColorStop(0.6,"#FFFFFF");a.addColorStop(1,"#000000")}return{gradient:a,offset:g}}};dhtmlx.compat("layout");
document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new k(this))}function b(l,m){var p=G.call(arguments,2);return function(){return l.apply(m,p.concat(G.call(arguments)))}}function c(l){var m=l.srcElement;switch(l.propertyName){case "width":m.style.width=m.attributes.width.nodeValue+"px";m.getContext().clearRect();break;case "height":m.style.height=m.attributes.height.nodeValue+"px";m.getContext().clearRect();break}}function d(l){l=l.srcElement;
if(l.firstChild){l.firstChild.style.width=l.clientWidth+"px";l.firstChild.style.height=l.clientHeight+"px"}}function e(){return[[1,0,0],[0,1,0],[0,0,1]]}function f(l,m){for(var p=e(),r=0;r<3;r++)for(var u=0;u<3;u++){for(var x=0,B=0;B<3;B++)x+=l[r][B]*m[B][u];p[r][u]=x}return p}function g(l,m){m.fillStyle=l.fillStyle;m.lineCap=l.lineCap;m.lineJoin=l.lineJoin;m.lineWidth=l.lineWidth;m.miterLimit=l.miterLimit;m.shadowBlur=l.shadowBlur;m.shadowColor=l.shadowColor;m.shadowOffsetX=l.shadowOffsetX;m.shadowOffsetY=
l.shadowOffsetY;m.strokeStyle=l.strokeStyle;m.globalAlpha=l.globalAlpha;m.arcScaleX_=l.arcScaleX_;m.arcScaleY_=l.arcScaleY_;m.lineScale_=l.lineScale_}function h(l){var m,p=1;l=String(l);if(l.substring(0,3)=="rgb"){m=l.indexOf("(",3);var r=l.indexOf(")",m+1),u=l.substring(m+1,r).split(",");m="#";for(r=0;r<3;r++)m+=R[Number(u[r])];if(u.length==4&&l.substr(3,1)=="a")p=u[3]}else m=l;return{color:m,alpha:p}}function j(l){switch(l){case "butt":return"flat";case "round":return"round";case "square":default:return"square"}}
function k(l){this.m_=e();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=t*1;this.globalAlpha=1;this.canvas=l;var m=l.ownerDocument.createElement("div");m.style.width=l.clientWidth+"px";m.style.height=l.clientHeight+"px";m.style.overflow="hidden";m.style.position="absolute";l.appendChild(m);this.element_=m;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function i(l,m,p,r){l.currentPath_.push({type:"bezierCurveTo",
cp1x:m.x,cp1y:m.y,cp2x:p.x,cp2y:p.y,x:r.x,y:r.y});l.currentX_=r.x;l.currentY_=r.y}function n(l){for(var m=0;m<3;m++)for(var p=0;p<2;p++)if(!isFinite(l[m][p])||isNaN(l[m][p]))return false;return true}function o(l,m,p){if(n(m)){l.m_=m;if(p){var r=m[0][0]*m[1][1]-m[0][1]*m[1][0];l.lineScale_=D(A(r))}}}function q(l){this.type_=l;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function v(){}var y=Math,s=y.round,z=y.sin,F=y.cos,A=y.abs,D=y.sqrt,t=10,C=t/2,G=Array.prototype.slice,
J={init:function(l){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var m=l||document;m.createElement("canvas");m.attachEvent("onreadystatechange",b(this.init_,this,m))}},init_:function(l){l.namespaces.g_vml_||l.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");l.namespaces.g_o_||l.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!l.styleSheets.ex_canvas_){var m=l.createStyleSheet();m.owningElement.id="ex_canvas_";m.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}var p=
l.getElementsByTagName("canvas");for(l=0;l<p.length;l++)this.initElement(p[l])},initElement:function(l){if(!l.getContext){l.getContext=a;l.innerHTML="";l.attachEvent("onpropertychange",c);l.attachEvent("onresize",d);var m=l.attributes;if(m.width&&m.width.specified)l.style.width=m.width.nodeValue+"px";else l.width=l.clientWidth;if(m.height&&m.height.specified)l.style.height=m.height.nodeValue+"px";else l.height=l.clientHeight}return l}};J.init();for(var R=[],I=0;I<16;I++)for(var T=0;T<16;T++)R[I*16+
T]=I.toString(16)+T.toString(16);var E=k.prototype;E.clearRect=function(){this.element_.innerHTML=""};E.beginPath=function(){this.currentPath_=[]};E.moveTo=function(l,m){var p=this.getCoords_(l,m);this.currentPath_.push({type:"moveTo",x:p.x,y:p.y});this.currentX_=p.x;this.currentY_=p.y};E.lineTo=function(l,m){l=this.getCoords_(l,m);this.currentPath_.push({type:"lineTo",x:l.x,y:l.y});this.currentX_=l.x;this.currentY_=l.y};E.bezierCurveTo=function(l,m,p,r,u,x){u=this.getCoords_(u,x);x=this.getCoords_(l,
m);var B=this.getCoords_(p,r);i(this,x,B,u)};E.quadraticCurveTo=function(l,m,p,r){var u=this.getCoords_(l,m);p=this.getCoords_(p,r);r={x:this.currentX_+2/3*(u.x-this.currentX_),y:this.currentY_+2/3*(u.y-this.currentY_)};var x={x:r.x+(p.x-this.currentX_)/3,y:r.y+(p.y-this.currentY_)/3};i(this,r,x,p)};E.arc=function(l,m,p,r,u,x){p*=t;var B=x?"at":"wa",w=l+F(r)*p-C,P=m+z(r)*p-C,K=l+F(u)*p-C,N=m+z(u)*p-C;if(w==K&&!x)w+=0.125;l=this.getCoords_(l,m);var L=this.getCoords_(w,P),M=this.getCoords_(K,N);this.currentPath_.push({type:B,
x:l.x,y:l.y,radius:p,xStart:L.x,yStart:L.y,xEnd:M.x,yEnd:M.y})};E.rect=function(l,m,p,r){this.moveTo(l,m);this.lineTo(l+p,m);this.lineTo(l+p,m+r);this.lineTo(l,m+r);this.closePath()};E.strokeRect=function(l,m,p,r){var u=this.currentPath_;this.beginPath();this.moveTo(l,m);this.lineTo(l+p,m);this.lineTo(l+p,m+r);this.lineTo(l,m+r);this.closePath();this.stroke();this.currentPath_=u};E.fillRect=function(l,m,p,r){var u=this.currentPath_;this.beginPath();this.moveTo(l,m);this.lineTo(l+p,m);this.lineTo(l+
p,m+r);this.lineTo(l,m+r);this.closePath();this.fill();this.currentPath_=u};E.createLinearGradient=function(l,m,p,r){var u=new q("gradient");u.x0_=l;u.y0_=m;u.x1_=p;u.y1_=r;return u};E.createRadialGradient=function(l,m,p,r,u,x){var B=new q("gradientradial");B.x0_=l;B.y0_=m;B.r0_=p;B.x1_=r;B.y1_=u;B.r1_=x;return B};E.drawImage=function(l){var m,p,r,u,x,B,w,P,K=l.runtimeStyle.width,N=l.runtimeStyle.height;l.runtimeStyle.width="auto";l.runtimeStyle.height="auto";var L=l.width,M=l.height;l.runtimeStyle.width=
K;l.runtimeStyle.height=N;if(arguments.length==3){m=arguments[1];p=arguments[2];x=B=0;w=r=L;P=u=M}else if(arguments.length==5){m=arguments[1];p=arguments[2];r=arguments[3];u=arguments[4];x=B=0;w=L;P=M}else if(arguments.length==9){x=arguments[1];B=arguments[2];w=arguments[3];P=arguments[4];m=arguments[5];p=arguments[6];r=arguments[7];u=arguments[8]}else throw Error("Invalid number of arguments");var H=this.getCoords_(m,p),Q=[],S=10,O=10;Q.push(" <g_vml_:group",' coordsize="',t*S,",",t*O,'"',' coordorigin="0,0"',
' style="width:',S,"px;height:",O,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]){var U=[];U.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",s(H.x/t),",","Dy=",s(H.y/t),"");H=H;var V=this.getCoords_(m+r,p),W=this.getCoords_(m,p+u),X=this.getCoords_(m+r,p+u);H.x=y.max(H.x,V.x,W.x,X.x);H.y=y.max(H.y,V.y,W.y,X.y);Q.push("padding:0 ",s(H.x/t),"px ",s(H.y/t),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",U.join(""),", sizingmethod='clip');")}else Q.push("top:",
s(H.y/t),"px;left:",s(H.x/t),"px;");Q.push(' ">','<g_vml_:image src="',l.src,'"',' style="width:',t*r,"px;"," height:",t*u,'px;"',' cropleft="',x/L,'"',' croptop="',B/M,'"',' cropright="',(L-x-w)/L,'"',' cropbottom="',(M-B-P)/M,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",Q.join(""))};E.stroke=function(l){var m=[],p=h(l?this.fillStyle:this.strokeStyle),r=p.color,u=p.alpha*this.globalAlpha,x=p=10;m.push("<g_vml_:shape",' filled="',!!l,'"',' style="position:absolute;width:',
p,"px;height:",x,'px;"',' coordorigin="0 0" coordsize="',t*p," ",t*x,'"',' stroked="',!l,'"',' path="');p={x:null,y:null};x={x:null,y:null};for(var B=0;B<this.currentPath_.length;B++){var w=this.currentPath_[B],P;switch(w.type){case "moveTo":P=w;m.push(" m ",s(w.x),",",s(w.y));break;case "lineTo":m.push(" l ",s(w.x),",",s(w.y));break;case "close":m.push(" x ");w=null;break;case "bezierCurveTo":m.push(" c ",s(w.cp1x),",",s(w.cp1y),",",s(w.cp2x),",",s(w.cp2y),",",s(w.x),",",s(w.y));break;case "at":case "wa":m.push(" ",
w.type," ",s(w.x-this.arcScaleX_*w.radius),",",s(w.y-this.arcScaleY_*w.radius)," ",s(w.x+this.arcScaleX_*w.radius),",",s(w.y+this.arcScaleY_*w.radius)," ",s(w.xStart),",",s(w.yStart)," ",s(w.xEnd),",",s(w.yEnd));break}if(w){if(p.x==null||w.x<p.x)p.x=w.x;if(x.x==null||w.x>x.x)x.x=w.x;if(p.y==null||w.y<p.y)p.y=w.y;if(x.y==null||w.y>x.y)x.y=w.y}}m.push(' ">');if(l)if(typeof this.fillStyle=="object"){var K=this.fillStyle,N=0,L={x:0,y:0};r=0;var M=1;if(K.type_=="gradient"){p=K.x0_/this.arcScaleX_;x=K.y0_/
this.arcScaleY_;B=K.x1_/this.arcScaleX_;w=K.y1_/this.arcScaleY_;var H=this.getCoords_(p,x),Q=this.getCoords_(B,w);p=Q.x-H.x;x=Q.y-H.y;N=Math.atan2(p,x)*180/Math.PI;if(N<0)N+=360;if(N<1.0E-6)N=0}else{H=this.getCoords_(K.x0_,K.y0_);r=x.x-p.x;x=x.y-p.y;L={x:(H.x-p.x)/r,y:(H.y-p.y)/x};r/=this.arcScaleX_*t;x/=this.arcScaleY_*t;var S=y.max(r,x);r=2*K.r0_/S;M=2*K.r1_/S-r}var O=K.colors_;O.sort(function(aa,ba){return aa.offset-ba.offset});p=O.length;var U=O[0].color,V=O[p-1].color,W=O[0].alpha*this.globalAlpha,
X=O[p-1].alpha*this.globalAlpha,Z=[];for(B=0;B<p;B++){var $=O[B];Z.push($.offset*M+r+" "+$.color)}m.push('<g_vml_:fill type="',K.type_,'"',' method="none" focus="100%"',' color="',U,'"',' color2="',V,'"',' colors="',Z.join(","),'"',' opacity="',X,'"',' g_o_:opacity2="',W,'"',' angle="',N,'"',' focusposition="',L.x,",",L.y,'" />')}else m.push('<g_vml_:fill color="',r,'" opacity="',u,'" />');else{var Y=this.lineScale_*this.lineWidth;if(Y<1)u*=Y;m.push("<g_vml_:stroke",' opacity="',u,'"',' joinstyle="',
this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',j(this.lineCap),'"',' weight="',Y,'px"',' color="',r,'" />')}m.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",m.join(""))};E.fill=function(){this.stroke(true)};E.closePath=function(){this.currentPath_.push({type:"close"})};E.getCoords_=function(l,m){var p=this.m_;return{x:t*(l*p[0][0]+m*p[1][0]+p[2][0])-C,y:t*(l*p[0][1]+m*p[1][1]+p[2][1])-C}};E.save=function(){var l={};g(this,l);this.aStack_.push(l);this.mStack_.push(this.m_);
this.m_=f(e(),this.m_)};E.restore=function(){g(this.aStack_.pop(),this);this.m_=this.mStack_.pop()};E.translate=function(l,m){l=[[1,0,0],[0,1,0],[l,m,1]];o(this,f(l,this.m_),false)};E.rotate=function(l){var m=F(l),p=z(l);m=[[m,p,0],[-p,m,0],[0,0,1]];o(this,f(m,this.m_),false)};E.scale=function(l,m){this.arcScaleX_*=l;this.arcScaleY_*=m;l=[[l,0,0],[0,m,0],[0,0,1]];o(this,f(l,this.m_),true)};E.transform=function(l,m,p,r,u,x){u=[[l,m,0],[p,r,0],[u,x,1]];o(this,f(u,this.m_),true)};E.setTransform=function(l,
m,p,r,u,x){l=[[l,m,0],[p,r,0],[u,x,1]];o(this,l,true)};E.clip=function(){};E.arcTo=function(){};E.createPattern=function(){return new v};q.prototype.addColorStop=function(l,m){m=h(m);this.colors_.push({offset:l,color:m.color,alpha:m.alpha})};G_vmlCanvasManager=J;CanvasRenderingContext2D=k;CanvasGradient=q;CanvasPattern=v}();if(dhtmlx&&dhtmlx.R)dhtmlx.R["thirdparty/excanvas/excanvas.js"]=true;window.dhx||(dhx={});dhx.version="3.0";dhx.codebase="./";dhx.name="Core";
dhx.copy=function(a){var b=dhx.copy.fc;b.prototype=a;return new b};dhx.copy.fc=function(){};dhx.extend=function(a,b,c){if(a.qa)a=a.qa[0];for(var d in b)if(!a[d]||c)a[d]=b[d];b.defaults&&dhx.extend(a.defaults,b.defaults);b.h&&b.h.call(a);return a};dhx.fullCopy=function(a){var b=a.length?[]:{};if(arguments.length>1){b=arguments[0];a=arguments[1]}for(var c in a)if(typeof a[c]=="object"){b[c]=a[c].length?[]:{};dhx.fullCopy(b[c],a[c])}else b[c]=a[c];return b};
dhx.single=function(a){var b=null,c=function(){b||(b=new a({}));b.Dc&&b.Dc.apply(b,arguments);return b};return c};
dhx.protoUI=function(){var a=arguments,b=a[0].name,c=function(d){if(a){for(var e=[a[0]],f=1;f<a.length;f++){e[f]=a[f];if(e[f].qa)e[f]=e[f].call(dhx);if(e[f].prototype&&e[f].prototype.name)dhx.ui[e[f].prototype.name]=e[f]}dhx.ui[b]=dhx.proto.apply(dhx,e);if(c.ea)for(f=0;f<c.ea.length;f++)dhx.Type(dhx.ui[b],c.ea[f]);c=a=null}return this!=dhx?new dhx.ui[b](d):dhx.ui[b]};c.qa=arguments;return dhx.ui[b]=c};
dhx.proto=function(){for(var a=arguments,b=a[0],c=!!b.h,d=[],e=a.length-1;e>0;e--){if(typeof a[e]=="function")a[e]=a[e].prototype;a[e].h&&d.push(a[e].h);if(a[e].defaults){var f=a[e].defaults;if(!b.defaults)b.defaults={};for(var g in f)if(dhx.isNotDefined(b.defaults[g]))b.defaults[g]=f[g]}if(a[e].type&&b.type)for(g in a[e].type)b.type[g]||(b.type[g]=a[e].type[g]);for(var h in a[e])b[h]||(b[h]=a[e][h])}c&&d.push(b.h);b.h=function(){for(var j=0;j<d.length;j++)d[j].apply(this,arguments)};e=function(j){this.ka=
[];this.h(j);this.I&&this.I(j,this.defaults);for(j=0;j<this.ka.length;j++)this.ka[j].call(this)};e.prototype=b;b=a=null;return e};dhx.bind=function(a,b){return function(){return a.apply(b,arguments)}};dhx.require=function(a){if(!dhx.R[a]){dhx.exec(dhx.ajax().sync().get(dhx.codebase+a).responseText);dhx.R[a]=true}};dhx.R={};dhx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};
dhx.wrap=function(a,b){if(!a)return b;return function(){var c=a.apply(this,arguments);b.apply(this,arguments);return c}};dhx.methodPush=function(a,b){return function(){var c=false;return c=a[b].apply(a,arguments)}};dhx.isNotDefined=function(a){return typeof a=="undefined"};dhx.delay=function(a,b,c,d){return window.setTimeout(function(){var e=a.apply(b,c||[]);a=b=c=null;return e},d||1)};dhx.uid=function(){if(!this.U)this.U=(new Date).valueOf();this.U++;return this.U};
dhx.toNode=function(a){if(typeof a=="string")return document.getElementById(a);return a};dhx.toArray=function(a){return dhx.extend(a||[],dhx.PowerArray,true)};dhx.toFunctor=function(a){return typeof a=="string"?eval(a):a};dhx.l={};dhx.event=function(a,b,c,d){a=dhx.toNode(a);var e=dhx.uid();if(d)c=dhx.bind(c,d);dhx.l[e]=[a,b,c];if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent&&a.attachEvent("on"+b,c);return e};
dhx.eventRemove=function(a){if(a){var b=dhx.l[a];if(b[0].removeEventListener)b[0].removeEventListener(b[1],b[2],false);else b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]);delete this.l[a]}};
dhx.EventSystem={h:function(){this.l={};this.w={};this.C={}},blockEvent:function(){this.l.$=true},unblockEvent:function(){this.l.$=false},mapEvent:function(a){dhx.extend(this.C,a,true)},callEvent:function(a,b){if(this.l.$)return true;a=a.toLowerCase();var c=this.l[a.toLowerCase()],d=true;if(c)for(var e=0;e<c.length;e++)if(c[e].apply(this,b||[])===false)d=false;if(this.C[a]&&!this.C[a].callEvent(a,b))d=false;return d},attachEvent:function(a,b,c){a=a.toLowerCase();c=c||dhx.uid();b=dhx.toFunctor(b);
var d=this.l[a]||dhx.toArray();d.push(b);this.l[a]=d;this.w[c]={f:b,t:a};return c},detachEvent:function(a){if(this.w[a]){var b=this.w[a].t,c=this.w[a].f;b=this.l[b];b.remove(c);delete this.w[a]}},hasEvent:function(a){a=a.toLowerCase();return this.l[a]?true:false}};dhx.extend(dhx,dhx.EventSystem);
dhx.PowerArray={removeAt:function(a,b){if(a>=0)this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(!b&&b!==0)this.push(a);else{var c=this.splice(b,this.length-b);this[b]=a;this.push.apply(this,c)}},find:function(a){for(var b=0;b<this.length;b++)if(a==this[b])return b;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this}};dhx.env={};
(function(){if(navigator.userAgent.indexOf("Mobile")!=-1)dhx.env.mobile=true;if(dhx.env.mobile||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1)dhx.env.touch=true;if(navigator.userAgent.indexOf("Opera")!=-1)dhx.env.isOpera=true;else{dhx.env.isIE=!!document.all;dhx.env.isFF=!document.all;dhx.env.isWebKit=navigator.userAgent.indexOf("KHTML")!=-1;dhx.env.isSafari=dhx.env.isWebKit&&navigator.userAgent.indexOf("Mac")!=-1}if(navigator.userAgent.toLowerCase().indexOf("android")!=
-1)dhx.env.isAndroid=true;dhx.env.transform=false;dhx.env.transition=false;var a={};a.names=["transform","transition"];a.transform=["transform","WebkitTransform","MozTransform","oTransform","msTransform"];a.transition=["transition","WebkitTransition","MozTransition","oTransition","msTransition"];for(var b=document.createElement("DIV"),c=0;c<a.names.length;c++)for(var d=a[a.names[c]],e=0;e<d.length;e++)if(typeof b.style[d[e]]!="undefined"){dhx.env[a.names[c]]=d[e];break}b.style[dhx.env.transform]=
"translate3d(0,0,0)";dhx.env.translate=b.style[dhx.env.transform]?"translate3d":"translate";dhx.env.transformCSSPrefix=function(){var f;if(dhx.env.isOpera)f="-o-";else{f="";if(dhx.env.isFF)f="-Moz-";if(dhx.env.isWebKit)f="-webkit-";if(dhx.env.isIE)f="-ms-"}return f}();dhx.env.transformPrefix=dhx.env.transformCSSPrefix.replace(/-/gi,"");dhx.env.transitionEnd=dhx.env.transformCSSPrefix=="-Moz-"?"transitionend":dhx.env.transformPrefix+"TransitionEnd"})();
dhx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();
dhx.html={create:function(a,b,c){b=b||{};a=document.createElement(a);for(var d in b)a.setAttribute(d,b[d]);if(b.style)a.style.cssText=b.style;if(b["class"])a.className=b["class"];if(c)a.innerHTML=c;return a},getValue:function(a){a=dhx.toNode(a);if(!a)return"";return dhx.isNotDefined(a.value)?a.innerHTML:a.value},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){if(a)b&&b.parentNode?
b.parentNode.insertBefore(a,b):c.appendChild(a)},locate:function(a,b){if(a.tagName)a=a;else{a=a||event;a=a.target||a.srcElement}for(;a;){if(a.getAttribute){var c=a.getAttribute(b);if(c)return c}a=a.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){a=a.getBoundingClientRect();var b=document.body,c=document.documentElement,d=window.pageYOffset||c.scrollTop||b.scrollTop,e=window.pageXOffset||c.scrollLeft||b.scrollLeft,f=c.clientTop||b.clientTop||0;b=c.clientLeft||b.clientLeft||0;
d=a.top+d-f;e=a.left+e-b;return{y:Math.round(d),x:Math.round(e)}}else{for(e=d=0;a;){d+=parseInt(a.offsetTop,10);e+=parseInt(a.offsetLeft,10);a=a.offsetParent}return{y:d,x:e}}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};var b=dhx.env.isIE&&document.compatMode!="BackCompat"?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();return dhx.html.stopEvent(a)},
stopEvent:function(a){(a||event).cancelBubble=true;return false},addCss:function(a,b){a.className+=" "+b},removeCss:function(a,b){a.className=a.className.replace(RegExp(" "+b,"g"),"")}};dhx.ready=function(a){this.Cc?a.call():this.va.push(a)};dhx.va=[];
(function(){var a=document.getElementsByTagName("SCRIPT");if(a.length){a=(a[a.length-1].getAttribute("src")||"").split("/");a.splice(a.length-1,1);dhx.codebase=a.slice(0,a.length).join("/")+"/"}dhx.event(window,"load",function(){dhx.callEvent("onReady",[]);dhx.delay(function(){dhx.Cc=true;for(var b=0;b<dhx.va.length;b++)dhx.va[b].call();dhx.va=[]})})})();dhx.ui={};dhx.ui.zIndex=function(){return dhx.ui.Mc++};dhx.ui.Mc=1;
dhx.ready(function(){dhx.event(document.body,"click",function(a){dhx.callEvent("onClick",[a||event])})});dhx.ajax=function(a,b,c){if(arguments.length!==0){var d=new dhx.ajax;if(c)d.master=c;d.get(a,null,b)}if(!this.getXHR)return new dhx.ajax;return this};
dhx.ajax.prototype={getXHR:function(){return dhx.env.isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,b,c){var d=this.getXHR();if(typeof c=="function")c=[c];if(typeof b=="object"){var e=[];for(var f in b){var g=b[f];if(g===null||g===dhx.undefined)g="";e.push(f+"="+encodeURIComponent(g))}b=e.join("&")}if(b&&!this.post){a=a+(a.indexOf("?")!=-1?"&":"?")+b;b=null}d.open(this.post?"POST":"GET",a,!this.$a);this.post&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var h=this;d.onreadystatechange=function(){if(!d.readyState||d.readyState==4){if(c&&h)for(var j=0;j<c.length;j++)if(c[j])c[j].call(h.master||h,d.responseText,d.responseXML,d);c=h=h.master=null}};d.send(b||null);return d},get:function(a,b,c){this.post=false;return this.send(a,b,c)},post:function(a,b,c){this.post=true;return this.send(a,b,c)},sync:function(){this.$a=true;return this}};
dhx.AtomDataLoader={h:function(a){this.data={};if(a){this.e.datatype=a.datatype||"json";this.ka.push(this.Sa)}},Sa:function(){this.ha=true;this.e.url&&this.url_setter(this.e.url);this.e.data&&this.data_setter(this.e.data)},url_setter:function(a){if(!this.ha)return a;this.load(a,this.e.datatype);return a},data_setter:function(a){if(!this.ha)return a;this.parse(a,this.e.datatype);return true},load:function(a,b,c){this.callEvent("onXLS",[]);if(typeof b=="string"){this.data.driver=dhx.DataDriver[b];b=
c}else this.data.driver=dhx.DataDriver.json;dhx.ajax(a,[this.S,b],this)},parse:function(a,b){this.callEvent("onXLS",[]);this.data.driver=dhx.DataDriver[b||"json"];this.S(a,null)},S:function(a,b){var c=this.data.driver;b=c.getRecords(c.toObject(a,b))[0];this.data=c?c.getDetails(b):a;this.callEvent("onXLE",[])},aa:function(a){if(!this.e.dataFeed||this.W||!a)return true;var b=this.e.dataFeed;b=b+(b.indexOf("?")==-1?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.callEvent("onXLS",[]);dhx.ajax(b,
function(c){this.W=true;this.setValues(dhx.DataDriver.json.toObject(c)[0]);this.W=false;this.callEvent("onXLE",[])},this);return false}};dhx.DataDriver={};dhx.DataDriver.json={toObject:function(a){a||(a="[]");if(typeof a=="string"){eval("dhx.temp="+a);a=dhx.temp}if(a.data){var b=a.data;b.pos=a.pos;b.total_count=a.total_count;a=b}return a},getRecords:function(a){if(a&&!(a instanceof Array))return[a];return a},getDetails:function(a){return a},getInfo:function(a){return{u:a.total_count||0,q:a.pos||0}}};
dhx.DataDriver.json_ext={toObject:function(a){a||(a="[]");if(typeof a=="string"){var b;eval("temp="+a);dhx.temp=[];a=b.header;for(var c=0;c<b.data.length;c++){for(var d={},e=0;e<a.length;e++)if(typeof b.data[c][e]!="undefined")d[a[e]]=b.data[c][e];dhx.temp.push(d)}return dhx.temp}return a},getRecords:function(a){if(a&&!(a instanceof Array))return[a];return a},getDetails:function(a){return a},getInfo:function(a){return{u:a.total_count||0,q:a.pos||0}}};
dhx.DataDriver.html={toObject:function(a){if(typeof a=="string"){var b=null;if(a.indexOf("<")==-1)b=dhx.toNode(a);if(!b){b=document.createElement("DIV");b.innerHTML=a}return b.getElementsByTagName(this.tag)}return a},getRecords:function(a){if(a.tagName)return a.childNodes;return a},getDetails:function(a){return dhx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{u:0,q:0}},tag:"LI"};
dhx.DataDriver.jsarray={toObject:function(a){if(typeof a=="string"){eval("dhx.temp="+a);return dhx.temp}return a},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{u:0,q:0}}};
dhx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){a=this.stringToArray(a);for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{u:0,q:0}},stringToArray:function(a){a=a.split(this.cell);for(var b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
dhx.DataDriver.xml={toObject:function(a,b){if(b&&(b=this.checkResponse(a,b)))return b;if(typeof a=="string")return this.fromString(a);return a},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){return{u:a.documentElement.getAttribute("total_count")||0,q:a.documentElement.getAttribute("pos")||0}},xpath:function(a,b){if(window.XPathResult){var c=a;if(a.nodeName.indexOf("document")==-1)a=a.ownerDocument;
var d=[];a=a.evaluate(b,c,null,XPathResult.ANY_TYPE,null);for(b=a.iterateNext();b;){d.push(b);b=a.iterateNext()}return d}else{d=true;try{if(typeof a.selectNodes=="undefined")d=false}catch(e){}if(d)return a.selectNodes(b);else{d=b.split("/").pop();return a.getElementsByTagName(d)}}},tagToObject:function(a,b){b=b||{};var c=false,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=true}d=a.childNodes;for(e=0;e<d.length;e++)if(d[e].nodeType==1){c=d[e].tagName;if(typeof b[c]!=
"undefined"){b[c]instanceof Array||(b[c]=[b[c]]);b[c].push(this.tagToObject(d[e],{}))}else b[d[e].tagName]=this.tagToObject(d[e],{});c=true}if(!c)return this.nodeValue(a);b.value=this.nodeValue(a);return b},nodeValue:function(a){if(a.firstChild)return a.firstChild.data;return""},fromString:function(a){if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");b.loadXML(a);return b}},checkResponse:function(a,b){if(b&&
b.firstChild&&b.firstChild.tagName!="parsererror")return b;if(a=this.fromString(a.replace(/^[\s]+/,"")))return a}};
dhx.DataLoader=dhx.proto({h:function(a){a=a||"";name="DataStore";this.data=a.datastore||new dhx.DataStore;this.T=this.data.attachEvent("onStoreLoad",dhx.bind(this.Ea,this))},load:function(a){dhx.AtomDataLoader.load.apply(this,arguments);if(!this.data.feed){this.data.url=a;this.data.feed=function(b,c){if(this.K)return this.K=[b,c];else this.K=true;this.load(a+(a.indexOf("?")==-1?"?":"&")+"start="+b+"&count="+c,function(){var d=this.K;this.K=false;if(typeof d=="object")this.data.feed.apply(this,d);
else this.showItem&&this.dataCount()>b+1&&this.showItem(this.idByIndex(b+1))})}}},loadNext:function(a,b){if(this.data.feed)this.data.feed.call(this,b||this.dataCount(),a)},S:function(a,b){this.data.Ua(this.data.driver.toObject(a,b));this.callEvent("onXLE",[]);if(this.T){this.data.detachEvent(this.T);this.T=null}},scheme_setter:function(a){this.data.scheme(a)},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",dhx.bind(function(b,c){if(this.e.dataFeed){var d={};if(b||d){if(typeof b==
"function"){if(!c)return;b(c,d)}else d={text:c};this.clearAll();b=this.e.dataFeed;c=[];for(var e in d)c.push("dhx_filter["+e+"]="+encodeURIComponent(d[e]));this.load(b+(b.indexOf("?")<0?"?":"&")+c.join("&"),this.e.datatype);return false}}},this));return a},Ea:function(){if(this.e.ready){var a=dhx.toFunctor(this.e.ready);a&&a.call&&a.apply(this,arguments)}}},dhx.AtomDataLoader).prototype;
dhx.DataStore=function(){this.name="DataStore";dhx.extend(this,dhx.EventSystem);this.setDriver("xml");this.pull={};this.order=dhx.toArray()};
dhx.DataStore.prototype={setDriver:function(a){this.driver=dhx.DataDriver[a]},Ua:function(a){this.callEvent("onParse",[this.driver,a]);this.i&&this.filter();var b=this.driver.getInfo(a),c=this.driver.getRecords(a),d=(b.q||0)*1;if(d===0&&this.order[0])d=this.order.length;for(var e=0,f=0;f<c.length;f++){var g=this.driver.getDetails(c[f]),h=this.id(g);if(!this.pull[h]){this.order[e+d]=h;e++}this.pull[h]=g;this.extraParser&&this.extraParser(g);if(this.j)if(this.j.$init)this.j.$init(g);else this.j.$update&&
this.j.$update(g)}if(!this.order[b.u-1])this.order[b.u-1]=dhx.undefined;this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},id:function(a){return a.id||(a.id=dhx.uid())},changeId:function(a,b){this.pull[b]=this.pull[a];this.pull[b].id=b;this.order[this.order.find(a)]=b;if(this.i)this.i[this.i.find(a)]=b;this.callEvent("onIdChange",[a,b]);this.Ya&&this.Ya(a,b);delete this.pull[a]},item:function(a){return this.pull[a]},update:function(a,b){this.j&&this.j.$update&&this.j.$update(b);if(this.callEvent("onBeforeUpdate",
[a,b])===false)return false;this.pull[a]=b;this.refresh(a)},refresh:function(a){this.ia||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a,b){this.ia=true;a.call(b||this);this.ia=false},getRange:function(a,b){a=a?this.indexById(a):this.startOffset||0;if(b)b=this.indexById(b);else{b=Math.min(this.endOffset||Infinity,this.dataCount()-1);if(b<0)b=0}if(a>b){var c=b;b=a;a=c}return this.getIndexRange(a,b)},getIndexRange:function(a,
b){b=Math.min(b||Infinity,this.dataCount()-1);var c=dhx.toArray();for(a=a||0;a<=b;a++)c.push(this.item(this.order[a]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){if(!(a<0||b<0)){var c=this.idByIndex(a),d=this.item(c);this.order.removeAt(a);this.order.insertAt(c,Math.min(this.order.length,b));this.callEvent("onStoreUpdated",[c,d,"move"])}},scheme:function(a){this.j=a},sync:function(a,b,c){if(typeof b!="function"){c=b;b=null}if(dhx.debug_bind)this.debug_sync_master=
a;if(a.name!="DataStore")a=a.data;var d=dhx.bind(function(){this.order=dhx.toArray([].concat(a.order));this.i=null;this.pull=a.pull;b&&this.silent(b);this.ua&&this.ua();if(c)c=false;else this.refresh()},this);a.attachEvent("onStoreUpdated",d);d()},add:function(a,b){if(this.j){a=a||{};for(var c in this.j)a[c]=a[c]||this.j[c];if(this.j.$init)this.j.$init(a);else this.j.$update&&this.j.$update(a)}c=this.id(a);var d=this.dataCount();if(dhx.isNotDefined(b)||b<0)b=d;if(b>d)b=Math.min(this.order.length,
b);if(this.callEvent("onBeforeAdd",[c,a,b])===false)return false;if(this.exists(c))return null;this.pull[c]=a;this.order.insertAt(c,b);if(this.i){d=this.i.length;if(!b&&this.order.length)d=0;this.i.insertAt(c,d)}this.callEvent("onafterAdd",[c,b]);this.callEvent("onStoreUpdated",[c,a,"add"]);return c},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(this.callEvent("onBeforeDelete",[a])===false)return false;if(!this.exists(a))return null;b=this.item(a);this.order.remove(a);
this.i&&this.i.remove(a);delete this.pull[a];this.callEvent("onafterdelete",[a]);this.callEvent("onStoreUpdated",[a,b,"delete"])}},clearAll:function(){this.pull={};this.order=dhx.toArray();this.i=null;this.callEvent("onClearAll",[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){return a=this.order.find(a)},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},
previous:function(a,b){return this.order[this.indexById(a)-(b||1)]},sort:function(a,b,c){var d=a;if(typeof a=="function")d={as:a,dir:b};else if(typeof a=="string")d={by:a,dir:b,as:c};a=[d.by,d.dir,d.as];if(this.callEvent("onbeforesort",a)){if(this.order.length){d=dhx.sort.create(d);b=this.getRange(this.first(),this.last());b.sort(d);this.order=b.map(function(e){return this.id(e)},this)}this.refresh();this.callEvent("onaftersort",a)}},filter:function(a,b,c){if(this.callEvent("onBeforeFilter",[a,b])){if(this.i&&
!c){this.order=this.i;delete this.i}if(this.order.length){if(a){var d=a;b=b||"";if(typeof a=="string"){a=dhx.Template(a);b=b.toString().toLowerCase();d=function(h,j){return a(h).toLowerCase().indexOf(j)!=-1}}for(var e=dhx.toArray(),f=0;f<this.order.length;f++){var g=this.order[f];d(this.item(g),b)&&e.push(g)}if(!c)this.i=this.order;this.order=e}this.refresh();this.callEvent("onAfterFilter",[])}}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},provideApi:function(a,
b){this.debug_bind_master=a;b&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});b=["sort","add","remove","exists","idByIndex","indexById","item","update","refresh","dataCount","filter","next","previous","clearAll","first","last","serialize","sync"];for(var c=0;c<b.length;c++)a[b[c]]=dhx.methodPush(this,b[c])},serialize:function(){for(var a=this.order,b=[],c=0;c<a.length;c++)b.push(this.pull[a[c]]);return b}};
dhx.sort={create:function(a){return dhx.sort.dir(a.dir,dhx.sort.by(a.by,a.as))},as:{"int":function(a,b){a*=1;b*=1;return a>b?1:a<b?-1:0},string_strict:function(a,b){a=a.toString();b=b.toString();return a>b?1:a<b?-1:0},string:function(a,b){a=a.toString().toLowerCase();b=b.toString().toLowerCase();return a>b?1:a<b?-1:0}},by:function(a,b){if(!a)return b;if(typeof b!="function")b=dhx.sort.as[b||"string"];a=dhx.Template(a);return function(c,d){return b(a(c),a(d))}},dir:function(a,b){if(a=="asc")return b;
return function(c,d){return b(c,d)*-1}}};
(function(){var a={};dhx.Template=function(b){if(typeof b=="function")return b;if(a[b])return a[b];b=(b||"").toString();if(b.indexOf("->")!=-1){b=b.split("->");switch(b[0]){case "html":b=dhx.html.getValue(b[1]);break;case "http":b=(new dhx.ajax).sync().get(b[1],{uid:dhx.uid()}).responseText;break;default:break}}b=(b||"").toString();b=b.replace(/(\r\n|\n)/g,"\\n");b=b.replace(/(\")/g,'\\"');b=b.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');b=b.replace(/\{common\.([^}\(]*)\}/g,
"\"+(common.$1||'')+\"");b=b.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1(obj,common):"")+"');b=b.replace(/\{obj\.([^}]*)\}/g,"\"+(obj.$1||'')+\"");b=b.replace(/#([$a-z0-9_\[\]]+)#/gi,"\"+(obj.$1||'')+\"");b=b.replace(/\{obj\}/g,'"+obj+"');b=b.replace(/\{-obj/g,"{obj");b=b.replace(/\{-common/g,"{common");b='return "'+b+'";';try{Function("obj","common",b)}catch(c){}return a[b]=Function("obj","common",b)};dhx.Template.empty=function(){return""};dhx.Template.bind=function(b){return dhx.bind(dhx.Template(b),
this)};dhx.Type=function(b,c){if(b.qa){if(!b.ea)b.ea=[];b.ea.push(c)}else{if(typeof b=="function")b=b.prototype;if(!b.types){b.types={"default":b.type};b.type.name="default"}var d=c.name,e=b.type;if(d)e=b.types[d]=dhx.copy(b.type);for(var f in c)e[f]=f.indexOf("template")===0?dhx.Template(c[f]):c[f];return d}}})();
dhx.Settings={h:function(){this.e=this.config={}},define:function(a,b){if(typeof a=="object")return this.ga(a);return this.ba(a,b)},ba:function(a,b){var c=this[a+"_setter"];return this.e[a]=c?c.call(this,b,a):b},ga:function(a){if(a)for(var b in a)this.ba(b,a[b])},I:function(a,b){var c={};if(b)c=dhx.extend(c,b);typeof a=="object"&&!a.tagName&&dhx.extend(c,a,true);this.ga(c)},H:function(a,b){for(var c in b)switch(typeof a[c]){case "object":a[c]=this.H(a[c]||{},b[c]);break;case "undefined":a[c]=b[c];
break;default:break}return a}};
dhx.BaseBind={bind:function(a,b,c){if(typeof a=="string")a=dhx.ui.get(a);a.m&&a.m();this.m&&this.m();a.getBindData||dhx.extend(a,dhx.BindSource);if(!this.Kb){var d=this.render;if(this.filter){var e=this.e.id;this.data.ua=function(){a.ma[e]=false}}this.render=function(){if(!this.sb){this.sb=true;this.callEvent("onBindRequest");this.sb=false;return d.call(this)}};if(this.getValue||this.getValues)this.save=function(){this.validate&&!this.validate()||a.setBindData(this.getValue?this.getValue:this.getValues(),
this.e.id)};this.Kb=true}a.addBind(this.e.id,b,c);this.attachEvent(this.touchable?"onAfterRender":"onBindRequest",function(){a.getBindData(this.e.id)});this.isVisible(this.e.id)&&this.refresh()}};
dhx.BindSource={h:function(){this.la={};this.ma={};this.Ra={};this.Lb(this)},setBindData:function(a,b){if(b)this.Ra[b]=true;if(this.setValue)this.setValue(a);else if(this.setValues)this.setValues(a);else{var c=this.getCursor();if(c){a=dhx.extend(this.item(c),a,true);this.update(c,a)}}this.callEvent("onBindUpdate",[a,b]);this.save&&this.save();if(b)this.Ra[b]=false},getBindData:function(a,b){if(!this.ma[a]){var c=dhx.ui.get(a);if(c.isVisible(c.e.id)){this.ma[a]=true;this.Ca(c,this.la[a][0],this.la[a][1]);
b&&c.filter&&c.refresh()}}},addBind:function(a,b,c){this.la[a]=[b,c]},Lb:function(a){if(a.filter)dhx.extend(this,dhx.CollectionBind);else a.setValue?dhx.extend(this,dhx.ValueBind):dhx.extend(this,dhx.RecordBind)},Y:function(){for(var a in this.la)if(!this.Ra[a]){this.ma[a]=false;this.getBindData(a,true)}},db:function(a,b,c){if(a.setValue)a.setValue(c?c[b]:c);else if(a.filter)a.data.silent(function(){this.filter(b,c)});else if(!c&&a.clear)a.clear();else a.aa(c)&&a.setValues(dhx.copy(c))}};
dhx.DataValue=dhx.proto({name:"DataValue",isVisible:function(){return true},h:function(a){a=(this.data=a)&&a.id?a.id:dhx.uid();this.e={id:a};dhx.ui.views[a]=this},setValue:function(a){this.data=a;this.callEvent("onChange",[a])},getValue:function(){return this.data},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind);
dhx.DataRecord=dhx.proto({name:"DataRecord",isVisible:function(){return true},h:function(a){this.data=a||{};a=a&&a.id?a.id:dhx.uid();this.e={id:a};dhx.ui.views[a]=this},getValues:function(){return this.data},setValues:function(a){this.data=a;this.callEvent("onChange",[a])},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind);
dhx.DataCollection=dhx.proto({name:"DataCollection",isVisible:function(){if(!this.data.order.length&&!this.data.i&&!this.e.dataFeed)return false;return true},h:function(a){this.data.provideApi(this,true);a=a&&a.id?a.id:dhx.uid();this.e.id=a;dhx.ui.views[a]=this;this.data.attachEvent("onStoreLoad",dhx.bind(function(){this.callEvent("onBindRequest",[])},this))},refresh:function(){this.callEvent("onBindRequest",[])}},dhx.EventSystem,dhx.DataLoader,dhx.BaseBind,dhx.Settings);
dhx.ValueBind={h:function(){this.attachEvent("onChange",this.Y)},Ca:function(a,b,c){var d=this.getValue()||"";if(c)d=c(d);if(a.setValue)a.setValue(d);else if(a.filter)a.data.silent(function(){this.filter(b,d)});else{var e={};e[b]=d;a.aa(d)&&a.setValues(e)}}};dhx.RecordBind={h:function(){this.attachEvent("onChange",this.Y)},Ca:function(a,b){var c=this.getValues()||null;this.db(a,b,c)}};
dhx.CollectionBind={h:function(){this.N=null;this.attachEvent("onSelectChange",function(){this.setCursor(this.getSelected())});this.attachEvent("onAfterCursorChange",this.Y);this.data.attachEvent("onStoreUpdated",dhx.bind(function(a){a&&a==this.getCursor()&&this.Y()},this));this.data.attachEvent("onClearAll",dhx.bind(function(){this.N=null},this));this.data.attachEvent("onIdChange",dhx.bind(function(a,b){if(this.N==a)this.N=b},this))},setCursor:function(a){if(!(a==this.N||!this.item(a))){this.callEvent("onBeforeCursorChange",
[this.N]);this.N=a;this.callEvent("onAfterCursorChange",[a])}},getCursor:function(){return this.N},Ca:function(a,b){var c=this.item(this.getCursor())||null;this.db(a,b,c)}};if(!dhx.ui.views){dhx.ui.views={};dhx.ui.get=function(a){if(a.e)return a;return dhx.ui.views[a]}}
dhtmlXDataStore=function(a){a=new dhx.DataCollection(a);var b="_dp_init";a[b]=function(c){var d="_methods";c[d]=["dummy","dummy","changeId","dummy"];this.data.sc={add:"inserted",update:"updated","delete":"deleted"};this.data.attachEvent("onStoreUpdated",function(e,f,g){e&&!c.Eb&&c.setUpdated(e,true,this.sc[g])});d="_getRowData";c[d]=function(e){var f=this.obj.data.item(e);e={id:e,"!nativeeditor_status":this.obj.getUserData(e)};if(f)for(var g in f)if(g.indexOf("_")!==0)e[g]=f[g];return e};this.changeId=
function(e,f){this.data.changeId(e,f);c.Eb=true;this.data.callEvent("onStoreUpdated",[f,this.item(f),"update"]);c.Eb=false};d="_clearUpdateFlag";c[d]=function(){};this.Z={}};a.dummy=function(){};a.setUserData=function(c,d,e){this.Z[c]=e};a.getUserData=function(c){return this.Z[c]};return a};
if(window.dhtmlXDataView)dhtmlXDataView.prototype.m=function(){this.isVisible=function(){if(!this.data.order.length&&!this.data.i&&!this.e.dataFeed)return false;return true};if(!this.e.id)this.e.id=dhx.uid();dhx.ui.views[this.e.id]=this};if(window.dhtmlXChart)dhtmlXChart.prototype.m=function(){this.isVisible=function(){if(!this.data.order.length&&!this.data.Oc&&!this.e.dataFeed)return false;return true};if(!this.e.id)this.e.id=dhx.uid();dhx.ui.views[this.e.id]=this};
dhx.BaseBind.legacyBind=function(){return dhx.BaseBind.bind.apply(this,arguments)};dhx.BaseBind.legacySync=function(a){this.m&&this.m();a.m&&a.m();this.attachEvent("onAfterEditStop",function(b){this.save(b);return true});this.save=function(b){b||(b=this.getCursor());var c=this.item(b),d=a.item(b);for(var e in c)if(e.indexOf("$")!==0)d[e]=c[e];a.refresh(b)};return this.data.sync.apply(this.data,arguments)};
if(window.dhtmlXForm){dhtmlXForm.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)};dhtmlXForm.prototype.m=function(){if(dhx.isNotDefined(this.e)){this.e={id:dhx.uid(),dataFeed:this.V};dhx.ui.views[this.e.id]=this}};dhtmlXForm.prototype.aa=function(a){if(!this.e.dataFeed||this.W||!a)return true;var b=this.e.dataFeed;b=b+(b.indexOf("?")==-1?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.load(b);return false};dhtmlXForm.prototype.setValues=dhtmlXForm.prototype.setFormData;
dhtmlXForm.prototype.getValues=function(){return this.getFormData(false,true)};dhtmlXForm.prototype.dataFeed=function(a){if(this.e)this.e.dataFeed=a;else this.V=a};dhtmlXForm.prototype.refresh=dhtmlXForm.prototype.isVisible=function(){return true}}
if(window.dhtmlXCombo){dhtmlXCombo.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)};dhtmlXCombo.prototype.dataFeed=function(a){if(this.e)this.e.dataFeed=a;else this.V=a};dhtmlXCombo.prototype.sync=function(a){this.m&&this.m();a.m&&a.m();var b=this,c=function(){b.clearAll();b.addOption(this.serialize())};a.data.attachEvent("onStoreUpdated",function(){c.call(this)});a.data.attachEvent("onIdChange",function(d,e){b.changeOptionId(d,e)});c.call(a)};dhtmlXCombo.prototype.m=function(){if(dhx.isNotDefined(this.e)){this.e=
{id:dhx.uid(),dataFeed:this.V};dhx.ui.views[this.e.id]=this;this.data={silent:dhx.bind(function(a){a.call(this)},this)};dhtmlxEventable(this.data);this.attachEvent("onChange",function(){this.callEvent("onSelectChange",[this.getSelectedValue()])});this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})}};dhtmlXCombo.prototype.item=function(){return this.Pc};dhtmlXCombo.prototype.getSelected=function(){return this.getSelectedValue()};dhtmlXCombo.prototype.isVisible=function(){if(!this.optionsArr.length&&
!this.e.dataFeed)return false;return true};dhtmlXCombo.prototype.refresh=function(){this.render(true)};dhtmlXCombo.prototype.filter=function(){alert("not implemented")}}
if(window.dhtmlXGridObject){dhtmlXGridObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)};dhtmlXGridObject.prototype.dataFeed=function(a){if(this.e)this.e.dataFeed=a;else this.V=a};dhtmlXGridObject.prototype.sync=function(a,b){this.m&&this.m();a.m&&a.m();var c=this,d="_parsing",e="_parser",f="_locator",g="_process_store_row",h="_get_store_data";this.save=function(k){k||(k=this.getCursor());dhx.extend(a.item(k),this.item(k),true);a.refresh(k)};var j=function(k){var i=0;if(c.sa){i=
c.sa;c.sa=false}else c.clearAll();if(k!==-1)if(k=this.dataCount()){c[d]=true;for(var n=i;n<k;n++){var o=this.order[n];if(o)if(!(i&&c.rowsBuffer[n])){c.rowsBuffer[n]={idd:o,data:this.pull[o]};c.rowsBuffer[n][e]=c[g];c.rowsBuffer[n][f]=c[h];c.rowsAr[o]=this.pull[o]}}if(!c.rowsBuffer[k-1]){c.rowsBuffer[k-1]=dhtmlx.undefined;c.xmlFileUrl=c.xmlFileUrl||true}if(c.pagingOn)c.changePage();else if(c.Qc&&c.Nc)c.Sc();else{c.render_dataset();c.callEvent("onXLE",[])}c[d]=false}};a.data.attachEvent("onStoreUpdated",
function(k,i,n){if(n=="delete"){c.deleteRow(k);c.data.callEvent("onStoreUpdated",[k,i,n])}else if(n=="update"){c.callEvent("onSyncUpdate",[i,n]);c.update(k,i);c.data.callEvent("onStoreUpdated",[k,i,n])}else if(n=="add"){c.callEvent("onSyncUpdate",[i,n]);c.add(k,i);c.data.callEvent("onStoreUpdated",[k,i,n])}else j.call(this)});a.data.attachEvent("onStoreLoad",function(k,i){c.xmlFileUrl=a.data.url;c.sa=k.getInfo(i).q});a.data.attachEvent("onIdChange",function(k,i){c.changeRowId(k,i)});j(-1);c.attachEvent("onEditCell",
function(k,i){k==2&&this.save(i);return true});c.attachEvent("onDynXLS",function(k,i){for(var n=k;n<k+i;n++)if(!a.data.order[n]){a.loadNext(i,k);return false}c.sa=k;j()});c.attachEvent("onClearAll",function(){var k="_f_rowsBuffer";this[k]=null});b&&b.sort&&c.attachEvent("onBeforeSorting",function(k,i,n){if(i=="connector")return false;var o=this.getColumnId(k);a.sort("#"+o+"#",n=="asc"?"asc":"desc",i=="int"?i:"string");c.setSortImgState(true,k,n);return false});b&&b.filter&&c.attachEvent("onFilterStart",
function(k,i){var n="_con_f_used";if(c[n]&&c[n].length)return false;a.data.silent(function(){a.filter();for(var o=0;o<k.length;o++)if(i[o]!=""){var q=c.getColumnId(k[o]);a.filter("#"+q+"#",i[o],o!=0)}});a.refresh();return false});c.clearAndLoad=function(k){a.clearAll();a.load(k)}};dhtmlXGridObject.prototype.m=function(){if(dhx.isNotDefined(this.e)){this.e={id:dhx.uid(),dataFeed:this.V};dhx.ui.views[this.e.id]=this;this.data={silent:dhx.bind(function(c){c.call(this)},this)};dhtmlxEventable(this.data);
for(var a="_cCount",b=0;b<this[a];b++)this.columnIds[b]||(this.columnIds[b]="cell"+b);this.attachEvent("onSelectStateChanged",function(c){this.callEvent("onSelectChange",[c])});this.attachEvent("onSelectionCleared",function(){this.callEvent("onSelectChange",[null])});this.attachEvent("onEditCell",function(c,d){c===2&&this.getCursor&&d&&d==this.getCursor()&&this.Y();return true});this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})}};dhtmlXGridObject.prototype.item=function(a){if(a===
null)return null;var b="_attrs";b=dhx.fullCopy(this.getRowById(a)[b]);b.id=a;for(var c=this.getColumnsNum(),d=0;d<c;d++)b[this.columnIds[d]]=this.cells(a,d).getValue();return b};dhtmlXGridObject.prototype.update=function(a,b){for(var c=0;c<this.columnIds.length;c++){var d=this.columnIds[c];dhx.isNotDefined(b[d])||this.cells(a,c).setValue(b[d])}c="_attrs";a=this.getRowById(a)[c];for(d in b)a[d]=b[d]};dhtmlXGridObject.prototype.add=function(a,b){for(var c=[],d=0;d<this.columnIds.length;d++){var e=this.columnIds[d];
c[d]=dhx.isNotDefined(b[e])?"":b[e]}this.addRow(a,c,0);d="_attrs";this.getRowById(a)[d]=dhx.fullCopy(b)};dhtmlXGridObject.prototype.getSelected=function(){return this.getSelectedRowId()};dhtmlXGridObject.prototype.isVisible=function(){var a="_f_rowsBuffer";if(!this.rowsBuffer.length&&!this[a]&&!this.e.dataFeed)return false;return true};dhtmlXGridObject.prototype.refresh=function(){this.render_dataset()};dhtmlXGridObject.prototype.filter=function(a,b){if(this.e.dataFeed){var c={};if(!a&&!b)return;
if(typeof a=="function"){if(!b)return;a(b,c)}else if(dhx.isNotDefined(a))c=b;else c[a]=b;this.clearAll();var d=this.e.dataFeed,e=[];for(var f in c)e.push("dhx_filter["+f+"]="+encodeURIComponent(c[f]));this.load(d+(d.indexOf("?")<0?"?":"&")+e.join("&"));return false}if(b===null)return this.filterBy(0,function(){return false});this.filterBy(0,function(g,h){return a.call(this,h,b)})}}
if(window.dhtmlXTreeObject){dhtmlXTreeObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)};dhtmlXTreeObject.prototype.dataFeed=function(a){if(this.e)this.e.dataFeed=a;else this.V=a};dhtmlXTreeObject.prototype.m=function(){if(dhx.isNotDefined(this.e)){this.e={id:dhx.uid(),dataFeed:this.V};dhx.ui.views[this.e.id]=this;this.data={silent:dhx.bind(function(a){a.call(this)},this)};dhtmlxEventable(this.data);this.attachEvent("onSelect",function(a){this.callEvent("onSelectChange",[a])});
this.attachEvent("onEdit",function(a,b){a===2&&b&&b==this.getCursor()&&this.Y();return true})}};dhtmlXTreeObject.prototype.item=function(a){if(a===null)return null;return{id:a,text:this.getItemText(a)}};dhtmlXTreeObject.prototype.getSelected=function(){return this.getSelectedItemId()};dhtmlXTreeObject.prototype.isVisible=function(){return true};dhtmlXTreeObject.prototype.refresh=function(){};dhtmlXTreeObject.prototype.filter=function(a,b){if(this.e.dataFeed){var c={};if(a||b){if(typeof a=="function"){if(!b)return;
a(b,c)}else if(dhx.isNotDefined(a))c=b;else c[a]=b;this.deleteChildItems(0);a=this.e.dataFeed;b=[];for(var d in c)b.push("dhx_filter["+d+"]="+encodeURIComponent(c[d]));this.loadXML(a+(a.indexOf("?")<0?"?":"&")+b.join("&"));return false}}};dhtmlXTreeObject.prototype.update=function(a,b){dhx.isNotDefined(b.text)||this.setItemText(a,b.text)}};
